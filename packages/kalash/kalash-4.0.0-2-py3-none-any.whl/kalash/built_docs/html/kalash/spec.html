<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>kalash.spec API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>kalash.spec</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from __future__ import annotations
from dataclasses import dataclass
from typing import Dict, List

import yaml

SpecPath = str
SpecKey = str


@dataclass
class BaseSpec:

    @classmethod
    def from_kwargs(cls, **kwargs):
        return cls(**kwargs)


@dataclass
class CliConfigSpec(BaseSpec):
    &#34;&#34;&#34;
    `CliConfig` specification.

    Args:
        whatif_paths (SpecKey): key used to switch on what-if paths callback
        whatif_ids (SpecKey): key used to switch on what-if IDs callback
        group_device (SpecKey): what key to group log files by - devices element
        group_group (SpecKey): what key to group log files by - group element
        log_formatter (SpecKey): key mapping to the log formatter parameter
    &#34;&#34;&#34;
    whatif_paths: SpecKey
    whatif_ids: SpecKey
    group_device: SpecKey
    group_group: SpecKey
    log_formatter: SpecKey


@dataclass
class MetaSpec(BaseSpec):
    &#34;&#34;&#34;
    Metadata section Spec.

    Args:
        tts (SpecKey): test template start of metadata section
        tte (SpecKey): test template end of metadata section
        asc (SpecKey): not used now (will be needed for GUI app)
        dsc (SpecKey): not used now (will be needed for GUI app)
        related_usecase (SpecKey): related use case
        workbench (SpecKey): workbench list
        template_version (SpecKey): template version
        devices (SpecKey): device list
        suites (SpecKey): suite list
        functionality (SpecKey): functionality list
    &#34;&#34;&#34;
    tts: SpecKey
    tte: SpecKey
    asc: SpecKey
    dsc: SpecKey
    related_usecase: SpecKey
    workbench: SpecKey
    template_version: SpecKey
    devices: SpecKey
    suites: SpecKey
    functionality: SpecKey


@dataclass
class TestSpec(BaseSpec):
    &#34;&#34;&#34;
    A block is a single element in the YAML array
    that declares at least the `path` or `filter`
    fields.

    Args:
        tests (SpecKey): tests top-level section key
        path (SpecKey): path to a folder of tests or a single test
        usecase (SpecKey): use cases to filter against
        no_recurse (SpecKey): disable recursive iteration over test directories
        last_result (SpecKey): filtering by last result
        devices (SpecKey): devices section (experimental device injection)
        parameters (SpecKey): parameters (experimental parameters injection)
        workbench (SpecKey): workbench that the filtered test is supposed to run on
        id (SpecKey): test ID key
        interp_cwd (SpecKey): point to the current working directory
        interp_this_file (SpecKey): points to the current YAML file path
        ok (SpecKey): value used for a test that passed last time
        nok (SpecKey): value used for a test that failed or errored out last time
        non_filters (SpecKey): list of properties that cannot be used like standard filters
    &#34;&#34;&#34;
    tests: SpecKey
    path: SpecKey
    usecase: SpecKey
    no_recurse: SpecKey
    last_result: SpecKey
    devices: SpecKey
    workbench: SpecKey
    id: SpecKey
    setup_script: SpecKey
    teardown_script: SpecKey
    suites: SpecKey
    functionality: SpecKey
    interp_cwd: SpecKey
    interp_this_file: SpecKey
    ok: SpecKey
    nok: SpecKey

    def __post_init__(self):
        self.non_filters: List[SpecKey] = [
            self.path,
            self.no_recurse,
            self.setup_script,
            self.teardown_script,
            self.interp_cwd,
            self.interp_this_file
        ]


@dataclass
class ConfigSpec(BaseSpec):
    &#34;&#34;&#34;
    Config section is free to have any other elements.
    **All elements here will not be attached as part
    of the general configuration section to the TestCase class**.

    Args:
        cfg (SpecKey): config section key
        report (SpecKey): location of the report folder
        one_time_setup_script (SpecKey): setup script key
        one_time_teardown_script (SpecKey): teardown script key
    &#34;&#34;&#34;
    cfg: SpecKey
    report: SpecKey
    one_time_setup_script: SpecKey
    one_time_teardown_script: SpecKey
    run_only_with: SpecKey

    def __post_init__(self):
        self.non_attachable: List[SpecKey] = [
            self.report,
            self.one_time_setup_script,
            self.one_time_teardown_script
        ]


@dataclass
class Spec(BaseSpec):
    &#34;&#34;&#34;
    This class defines naming patterns for
    the kalash YAML and metadata YAML
    specification.

    IMPORTANT NOTICE: all values in the Spec
    should be key:string pairs and converted
    to other types inplace when necessary.
    Please maintain type consistency accross
    this file. You should always use the `load_spec`
    classmethod to instantiate `Spec`. The default
    constructor remains there for true hackers.
    &#34;&#34;&#34;

    cli_config: CliConfigSpec
    test: TestSpec
    config: ConfigSpec
    meta: MetaSpec

    @classmethod
    def load_spec(cls, spec_path: SpecPath) -&gt; Spec:
        with open(spec_path, &#39;r&#39;) as f:
            yaml_obj = yaml.full_load(f)
        yaml_obj: Dict[str, Dict[str, SpecKey]] = yaml_obj
        return cls(
            CliConfigSpec.from_kwargs(
                **yaml_obj[&#39;cli_config&#39;]
            ),
            TestSpec.from_kwargs(
                **yaml_obj[&#39;test&#39;]
            ),
            ConfigSpec.from_kwargs(
                **yaml_obj[&#39;config&#39;]
            ),
            MetaSpec(
                **yaml_obj[&#39;meta&#39;]
            )
        )</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="kalash.spec.BaseSpec"><code class="flex name class">
<span>class <span class="ident">BaseSpec</span></span>
</code></dt>
<dd>
<div class="desc"><p>BaseSpec()</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class BaseSpec:

    @classmethod
    def from_kwargs(cls, **kwargs):
        return cls(**kwargs)</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="kalash.spec.CliConfigSpec" href="#kalash.spec.CliConfigSpec">CliConfigSpec</a></li>
<li><a title="kalash.spec.ConfigSpec" href="#kalash.spec.ConfigSpec">ConfigSpec</a></li>
<li><a title="kalash.spec.MetaSpec" href="#kalash.spec.MetaSpec">MetaSpec</a></li>
<li><a title="kalash.spec.Spec" href="#kalash.spec.Spec">Spec</a></li>
<li><a title="kalash.spec.TestSpec" href="#kalash.spec.TestSpec">TestSpec</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="kalash.spec.BaseSpec.from_kwargs"><code class="name flex">
<span>def <span class="ident">from_kwargs</span></span>(<span>**kwargs)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def from_kwargs(cls, **kwargs):
    return cls(**kwargs)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="kalash.spec.CliConfigSpec"><code class="flex name class">
<span>class <span class="ident">CliConfigSpec</span></span>
<span>(</span><span>whatif_paths: SpecKey, whatif_ids: SpecKey, group_device: SpecKey, group_group: SpecKey, log_formatter: SpecKey)</span>
</code></dt>
<dd>
<div class="desc"><p><code>CliConfig</code> specification.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>whatif_paths</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>key used to switch on what-if paths callback</dd>
<dt><strong><code>whatif_ids</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>key used to switch on what-if IDs callback</dd>
<dt><strong><code>group_device</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>what key to group log files by - devices element</dd>
<dt><strong><code>group_group</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>what key to group log files by - group element</dd>
<dt><strong><code>log_formatter</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>key mapping to the log formatter parameter</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class CliConfigSpec(BaseSpec):
    &#34;&#34;&#34;
    `CliConfig` specification.

    Args:
        whatif_paths (SpecKey): key used to switch on what-if paths callback
        whatif_ids (SpecKey): key used to switch on what-if IDs callback
        group_device (SpecKey): what key to group log files by - devices element
        group_group (SpecKey): what key to group log files by - group element
        log_formatter (SpecKey): key mapping to the log formatter parameter
    &#34;&#34;&#34;
    whatif_paths: SpecKey
    whatif_ids: SpecKey
    group_device: SpecKey
    group_group: SpecKey
    log_formatter: SpecKey</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="kalash.spec.BaseSpec" href="#kalash.spec.BaseSpec">BaseSpec</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="kalash.spec.CliConfigSpec.group_device"><code class="name">var <span class="ident">group_device</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.CliConfigSpec.group_group"><code class="name">var <span class="ident">group_group</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.CliConfigSpec.log_formatter"><code class="name">var <span class="ident">log_formatter</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.CliConfigSpec.whatif_ids"><code class="name">var <span class="ident">whatif_ids</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.CliConfigSpec.whatif_paths"><code class="name">var <span class="ident">whatif_paths</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="kalash.spec.ConfigSpec"><code class="flex name class">
<span>class <span class="ident">ConfigSpec</span></span>
<span>(</span><span>cfg: SpecKey, report: SpecKey, one_time_setup_script: SpecKey, one_time_teardown_script: SpecKey, run_only_with: SpecKey)</span>
</code></dt>
<dd>
<div class="desc"><p>Config section is free to have any other elements.
<strong>All elements here will not be attached as part
of the general configuration section to the TestCase class</strong>.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>cfg</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>config section key</dd>
<dt><strong><code>report</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>location of the report folder</dd>
<dt><strong><code>one_time_setup_script</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>setup script key</dd>
<dt><strong><code>one_time_teardown_script</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>teardown script key</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class ConfigSpec(BaseSpec):
    &#34;&#34;&#34;
    Config section is free to have any other elements.
    **All elements here will not be attached as part
    of the general configuration section to the TestCase class**.

    Args:
        cfg (SpecKey): config section key
        report (SpecKey): location of the report folder
        one_time_setup_script (SpecKey): setup script key
        one_time_teardown_script (SpecKey): teardown script key
    &#34;&#34;&#34;
    cfg: SpecKey
    report: SpecKey
    one_time_setup_script: SpecKey
    one_time_teardown_script: SpecKey
    run_only_with: SpecKey

    def __post_init__(self):
        self.non_attachable: List[SpecKey] = [
            self.report,
            self.one_time_setup_script,
            self.one_time_teardown_script
        ]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="kalash.spec.BaseSpec" href="#kalash.spec.BaseSpec">BaseSpec</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="kalash.spec.ConfigSpec.cfg"><code class="name">var <span class="ident">cfg</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.ConfigSpec.one_time_setup_script"><code class="name">var <span class="ident">one_time_setup_script</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.ConfigSpec.one_time_teardown_script"><code class="name">var <span class="ident">one_time_teardown_script</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.ConfigSpec.report"><code class="name">var <span class="ident">report</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.ConfigSpec.run_only_with"><code class="name">var <span class="ident">run_only_with</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="kalash.spec.MetaSpec"><code class="flex name class">
<span>class <span class="ident">MetaSpec</span></span>
<span>(</span><span>tts: SpecKey, tte: SpecKey, asc: SpecKey, dsc: SpecKey, related_usecase: SpecKey, workbench: SpecKey, template_version: SpecKey, devices: SpecKey, suites: SpecKey, functionality: SpecKey)</span>
</code></dt>
<dd>
<div class="desc"><p>Metadata section Spec.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>tts</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>test template start of metadata section</dd>
<dt><strong><code>tte</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>test template end of metadata section</dd>
<dt><strong><code>asc</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>not used now (will be needed for GUI app)</dd>
<dt><strong><code>dsc</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>not used now (will be needed for GUI app)</dd>
<dt><strong><code>related_usecase</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>related use case</dd>
<dt><strong><code>workbench</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>workbench list</dd>
<dt><strong><code>template_version</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>template version</dd>
<dt><strong><code>devices</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>device list</dd>
<dt><strong><code>suites</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>suite list</dd>
<dt><strong><code>functionality</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>functionality list</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class MetaSpec(BaseSpec):
    &#34;&#34;&#34;
    Metadata section Spec.

    Args:
        tts (SpecKey): test template start of metadata section
        tte (SpecKey): test template end of metadata section
        asc (SpecKey): not used now (will be needed for GUI app)
        dsc (SpecKey): not used now (will be needed for GUI app)
        related_usecase (SpecKey): related use case
        workbench (SpecKey): workbench list
        template_version (SpecKey): template version
        devices (SpecKey): device list
        suites (SpecKey): suite list
        functionality (SpecKey): functionality list
    &#34;&#34;&#34;
    tts: SpecKey
    tte: SpecKey
    asc: SpecKey
    dsc: SpecKey
    related_usecase: SpecKey
    workbench: SpecKey
    template_version: SpecKey
    devices: SpecKey
    suites: SpecKey
    functionality: SpecKey</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="kalash.spec.BaseSpec" href="#kalash.spec.BaseSpec">BaseSpec</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="kalash.spec.MetaSpec.asc"><code class="name">var <span class="ident">asc</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.devices"><code class="name">var <span class="ident">devices</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.dsc"><code class="name">var <span class="ident">dsc</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.functionality"><code class="name">var <span class="ident">functionality</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.related_usecase"><code class="name">var <span class="ident">related_usecase</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.suites"><code class="name">var <span class="ident">suites</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.template_version"><code class="name">var <span class="ident">template_version</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.tte"><code class="name">var <span class="ident">tte</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.tts"><code class="name">var <span class="ident">tts</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.MetaSpec.workbench"><code class="name">var <span class="ident">workbench</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="kalash.spec.Spec"><code class="flex name class">
<span>class <span class="ident">Spec</span></span>
<span>(</span><span>cli_config: <a title="kalash.spec.CliConfigSpec" href="#kalash.spec.CliConfigSpec">CliConfigSpec</a>, test: <a title="kalash.spec.TestSpec" href="#kalash.spec.TestSpec">TestSpec</a>, config: <a title="kalash.spec.ConfigSpec" href="#kalash.spec.ConfigSpec">ConfigSpec</a>, meta: <a title="kalash.spec.MetaSpec" href="#kalash.spec.MetaSpec">MetaSpec</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>This class defines naming patterns for
the kalash YAML and metadata YAML
specification.</p>
<p>IMPORTANT NOTICE: all values in the Spec
should be key:string pairs and converted
to other types inplace when necessary.
Please maintain type consistency accross
this file. You should always use the <code>load_spec</code>
classmethod to instantiate <code><a title="kalash.spec.Spec" href="#kalash.spec.Spec">Spec</a></code>. The default
constructor remains there for true hackers.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class Spec(BaseSpec):
    &#34;&#34;&#34;
    This class defines naming patterns for
    the kalash YAML and metadata YAML
    specification.

    IMPORTANT NOTICE: all values in the Spec
    should be key:string pairs and converted
    to other types inplace when necessary.
    Please maintain type consistency accross
    this file. You should always use the `load_spec`
    classmethod to instantiate `Spec`. The default
    constructor remains there for true hackers.
    &#34;&#34;&#34;

    cli_config: CliConfigSpec
    test: TestSpec
    config: ConfigSpec
    meta: MetaSpec

    @classmethod
    def load_spec(cls, spec_path: SpecPath) -&gt; Spec:
        with open(spec_path, &#39;r&#39;) as f:
            yaml_obj = yaml.full_load(f)
        yaml_obj: Dict[str, Dict[str, SpecKey]] = yaml_obj
        return cls(
            CliConfigSpec.from_kwargs(
                **yaml_obj[&#39;cli_config&#39;]
            ),
            TestSpec.from_kwargs(
                **yaml_obj[&#39;test&#39;]
            ),
            ConfigSpec.from_kwargs(
                **yaml_obj[&#39;config&#39;]
            ),
            MetaSpec(
                **yaml_obj[&#39;meta&#39;]
            )
        )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="kalash.spec.BaseSpec" href="#kalash.spec.BaseSpec">BaseSpec</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="kalash.spec.Spec.cli_config"><code class="name">var <span class="ident">cli_config</span> : <a title="kalash.spec.CliConfigSpec" href="#kalash.spec.CliConfigSpec">CliConfigSpec</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.Spec.config"><code class="name">var <span class="ident">config</span> : <a title="kalash.spec.ConfigSpec" href="#kalash.spec.ConfigSpec">ConfigSpec</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.Spec.meta"><code class="name">var <span class="ident">meta</span> : <a title="kalash.spec.MetaSpec" href="#kalash.spec.MetaSpec">MetaSpec</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.Spec.test"><code class="name">var <span class="ident">test</span> : <a title="kalash.spec.TestSpec" href="#kalash.spec.TestSpec">TestSpec</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="kalash.spec.Spec.load_spec"><code class="name flex">
<span>def <span class="ident">load_spec</span></span>(<span>spec_path: SpecPath) ‑> <a title="kalash.spec.Spec" href="#kalash.spec.Spec">Spec</a></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@classmethod
def load_spec(cls, spec_path: SpecPath) -&gt; Spec:
    with open(spec_path, &#39;r&#39;) as f:
        yaml_obj = yaml.full_load(f)
    yaml_obj: Dict[str, Dict[str, SpecKey]] = yaml_obj
    return cls(
        CliConfigSpec.from_kwargs(
            **yaml_obj[&#39;cli_config&#39;]
        ),
        TestSpec.from_kwargs(
            **yaml_obj[&#39;test&#39;]
        ),
        ConfigSpec.from_kwargs(
            **yaml_obj[&#39;config&#39;]
        ),
        MetaSpec(
            **yaml_obj[&#39;meta&#39;]
        )
    )</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="kalash.spec.TestSpec"><code class="flex name class">
<span>class <span class="ident">TestSpec</span></span>
<span>(</span><span>tests: SpecKey, path: SpecKey, usecase: SpecKey, no_recurse: SpecKey, last_result: SpecKey, devices: SpecKey, workbench: SpecKey, id: SpecKey, setup_script: SpecKey, teardown_script: SpecKey, suites: SpecKey, functionality: SpecKey, interp_cwd: SpecKey, interp_this_file: SpecKey, ok: SpecKey, nok: SpecKey)</span>
</code></dt>
<dd>
<div class="desc"><p>A block is a single element in the YAML array
that declares at least the <code>path</code> or <code>filter</code>
fields.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>tests</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>tests top-level section key</dd>
<dt><strong><code>path</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>path to a folder of tests or a single test</dd>
<dt><strong><code>usecase</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>use cases to filter against</dd>
<dt><strong><code>no_recurse</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>disable recursive iteration over test directories</dd>
<dt><strong><code>last_result</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>filtering by last result</dd>
<dt><strong><code>devices</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>devices section (experimental device injection)</dd>
<dt><strong><code>parameters</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>parameters (experimental parameters injection)</dd>
<dt><strong><code>workbench</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>workbench that the filtered test is supposed to run on</dd>
<dt><strong><code>id</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>test ID key</dd>
<dt><strong><code>interp_cwd</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>point to the current working directory</dd>
<dt><strong><code>interp_this_file</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>points to the current YAML file path</dd>
<dt><strong><code>ok</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>value used for a test that passed last time</dd>
<dt><strong><code>nok</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>value used for a test that failed or errored out last time</dd>
<dt><strong><code>non_filters</code></strong> :&ensp;<code>SpecKey</code></dt>
<dd>list of properties that cannot be used like standard filters</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@dataclass
class TestSpec(BaseSpec):
    &#34;&#34;&#34;
    A block is a single element in the YAML array
    that declares at least the `path` or `filter`
    fields.

    Args:
        tests (SpecKey): tests top-level section key
        path (SpecKey): path to a folder of tests or a single test
        usecase (SpecKey): use cases to filter against
        no_recurse (SpecKey): disable recursive iteration over test directories
        last_result (SpecKey): filtering by last result
        devices (SpecKey): devices section (experimental device injection)
        parameters (SpecKey): parameters (experimental parameters injection)
        workbench (SpecKey): workbench that the filtered test is supposed to run on
        id (SpecKey): test ID key
        interp_cwd (SpecKey): point to the current working directory
        interp_this_file (SpecKey): points to the current YAML file path
        ok (SpecKey): value used for a test that passed last time
        nok (SpecKey): value used for a test that failed or errored out last time
        non_filters (SpecKey): list of properties that cannot be used like standard filters
    &#34;&#34;&#34;
    tests: SpecKey
    path: SpecKey
    usecase: SpecKey
    no_recurse: SpecKey
    last_result: SpecKey
    devices: SpecKey
    workbench: SpecKey
    id: SpecKey
    setup_script: SpecKey
    teardown_script: SpecKey
    suites: SpecKey
    functionality: SpecKey
    interp_cwd: SpecKey
    interp_this_file: SpecKey
    ok: SpecKey
    nok: SpecKey

    def __post_init__(self):
        self.non_filters: List[SpecKey] = [
            self.path,
            self.no_recurse,
            self.setup_script,
            self.teardown_script,
            self.interp_cwd,
            self.interp_this_file
        ]</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="kalash.spec.BaseSpec" href="#kalash.spec.BaseSpec">BaseSpec</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="kalash.spec.TestSpec.devices"><code class="name">var <span class="ident">devices</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.functionality"><code class="name">var <span class="ident">functionality</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.id"><code class="name">var <span class="ident">id</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.interp_cwd"><code class="name">var <span class="ident">interp_cwd</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.interp_this_file"><code class="name">var <span class="ident">interp_this_file</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.last_result"><code class="name">var <span class="ident">last_result</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.no_recurse"><code class="name">var <span class="ident">no_recurse</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.nok"><code class="name">var <span class="ident">nok</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.ok"><code class="name">var <span class="ident">ok</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.path"><code class="name">var <span class="ident">path</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.setup_script"><code class="name">var <span class="ident">setup_script</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.suites"><code class="name">var <span class="ident">suites</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.teardown_script"><code class="name">var <span class="ident">teardown_script</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.tests"><code class="name">var <span class="ident">tests</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.usecase"><code class="name">var <span class="ident">usecase</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="kalash.spec.TestSpec.workbench"><code class="name">var <span class="ident">workbench</span> : str</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="kalash" href="index.html">kalash</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="kalash.spec.BaseSpec" href="#kalash.spec.BaseSpec">BaseSpec</a></code></h4>
<ul class="">
<li><code><a title="kalash.spec.BaseSpec.from_kwargs" href="#kalash.spec.BaseSpec.from_kwargs">from_kwargs</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="kalash.spec.CliConfigSpec" href="#kalash.spec.CliConfigSpec">CliConfigSpec</a></code></h4>
<ul class="">
<li><code><a title="kalash.spec.CliConfigSpec.group_device" href="#kalash.spec.CliConfigSpec.group_device">group_device</a></code></li>
<li><code><a title="kalash.spec.CliConfigSpec.group_group" href="#kalash.spec.CliConfigSpec.group_group">group_group</a></code></li>
<li><code><a title="kalash.spec.CliConfigSpec.log_formatter" href="#kalash.spec.CliConfigSpec.log_formatter">log_formatter</a></code></li>
<li><code><a title="kalash.spec.CliConfigSpec.whatif_ids" href="#kalash.spec.CliConfigSpec.whatif_ids">whatif_ids</a></code></li>
<li><code><a title="kalash.spec.CliConfigSpec.whatif_paths" href="#kalash.spec.CliConfigSpec.whatif_paths">whatif_paths</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="kalash.spec.ConfigSpec" href="#kalash.spec.ConfigSpec">ConfigSpec</a></code></h4>
<ul class="">
<li><code><a title="kalash.spec.ConfigSpec.cfg" href="#kalash.spec.ConfigSpec.cfg">cfg</a></code></li>
<li><code><a title="kalash.spec.ConfigSpec.one_time_setup_script" href="#kalash.spec.ConfigSpec.one_time_setup_script">one_time_setup_script</a></code></li>
<li><code><a title="kalash.spec.ConfigSpec.one_time_teardown_script" href="#kalash.spec.ConfigSpec.one_time_teardown_script">one_time_teardown_script</a></code></li>
<li><code><a title="kalash.spec.ConfigSpec.report" href="#kalash.spec.ConfigSpec.report">report</a></code></li>
<li><code><a title="kalash.spec.ConfigSpec.run_only_with" href="#kalash.spec.ConfigSpec.run_only_with">run_only_with</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="kalash.spec.MetaSpec" href="#kalash.spec.MetaSpec">MetaSpec</a></code></h4>
<ul class="two-column">
<li><code><a title="kalash.spec.MetaSpec.asc" href="#kalash.spec.MetaSpec.asc">asc</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.devices" href="#kalash.spec.MetaSpec.devices">devices</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.dsc" href="#kalash.spec.MetaSpec.dsc">dsc</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.functionality" href="#kalash.spec.MetaSpec.functionality">functionality</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.related_usecase" href="#kalash.spec.MetaSpec.related_usecase">related_usecase</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.suites" href="#kalash.spec.MetaSpec.suites">suites</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.template_version" href="#kalash.spec.MetaSpec.template_version">template_version</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.tte" href="#kalash.spec.MetaSpec.tte">tte</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.tts" href="#kalash.spec.MetaSpec.tts">tts</a></code></li>
<li><code><a title="kalash.spec.MetaSpec.workbench" href="#kalash.spec.MetaSpec.workbench">workbench</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="kalash.spec.Spec" href="#kalash.spec.Spec">Spec</a></code></h4>
<ul class="">
<li><code><a title="kalash.spec.Spec.cli_config" href="#kalash.spec.Spec.cli_config">cli_config</a></code></li>
<li><code><a title="kalash.spec.Spec.config" href="#kalash.spec.Spec.config">config</a></code></li>
<li><code><a title="kalash.spec.Spec.load_spec" href="#kalash.spec.Spec.load_spec">load_spec</a></code></li>
<li><code><a title="kalash.spec.Spec.meta" href="#kalash.spec.Spec.meta">meta</a></code></li>
<li><code><a title="kalash.spec.Spec.test" href="#kalash.spec.Spec.test">test</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="kalash.spec.TestSpec" href="#kalash.spec.TestSpec">TestSpec</a></code></h4>
<ul class="two-column">
<li><code><a title="kalash.spec.TestSpec.devices" href="#kalash.spec.TestSpec.devices">devices</a></code></li>
<li><code><a title="kalash.spec.TestSpec.functionality" href="#kalash.spec.TestSpec.functionality">functionality</a></code></li>
<li><code><a title="kalash.spec.TestSpec.id" href="#kalash.spec.TestSpec.id">id</a></code></li>
<li><code><a title="kalash.spec.TestSpec.interp_cwd" href="#kalash.spec.TestSpec.interp_cwd">interp_cwd</a></code></li>
<li><code><a title="kalash.spec.TestSpec.interp_this_file" href="#kalash.spec.TestSpec.interp_this_file">interp_this_file</a></code></li>
<li><code><a title="kalash.spec.TestSpec.last_result" href="#kalash.spec.TestSpec.last_result">last_result</a></code></li>
<li><code><a title="kalash.spec.TestSpec.no_recurse" href="#kalash.spec.TestSpec.no_recurse">no_recurse</a></code></li>
<li><code><a title="kalash.spec.TestSpec.nok" href="#kalash.spec.TestSpec.nok">nok</a></code></li>
<li><code><a title="kalash.spec.TestSpec.ok" href="#kalash.spec.TestSpec.ok">ok</a></code></li>
<li><code><a title="kalash.spec.TestSpec.path" href="#kalash.spec.TestSpec.path">path</a></code></li>
<li><code><a title="kalash.spec.TestSpec.setup_script" href="#kalash.spec.TestSpec.setup_script">setup_script</a></code></li>
<li><code><a title="kalash.spec.TestSpec.suites" href="#kalash.spec.TestSpec.suites">suites</a></code></li>
<li><code><a title="kalash.spec.TestSpec.teardown_script" href="#kalash.spec.TestSpec.teardown_script">teardown_script</a></code></li>
<li><code><a title="kalash.spec.TestSpec.tests" href="#kalash.spec.TestSpec.tests">tests</a></code></li>
<li><code><a title="kalash.spec.TestSpec.usecase" href="#kalash.spec.TestSpec.usecase">usecase</a></code></li>
<li><code><a title="kalash.spec.TestSpec.workbench" href="#kalash.spec.TestSpec.workbench">workbench</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>