<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 8.0.0" />
    <title>kalash API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>
                        <a class="pdoc-button module-list-button" href="index.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                            &nbsp;
                            Module Index
                        </a>


                        <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                               pattern=".+" required>

                    <h2>Contents</h2>
                    <ul>
  <li><a href="#features">Features</a>
  <ul>
    <li><a href="#what-you-can-do-with-kalash">What <strong>you</strong> can do with Kalash</a></li>
    <li><a href="#notable-features-available">Notable Features Available</a></li>
    <li><a href="#notable-features-planned">Notable Features Planned</a></li>
  </ul></li>
  <li><a href="#basic-usage">Basic Usage</a>
  <ul>
    <li><a href="#before-installation">Before installation</a></li>
    <li><a href="#installation">Installation</a></li>
    <li><a href="#why-use-kalash">Why use Kalash</a>
    <ul>
      <li><a href="#the-system">The system</a></li>
    </ul></li>
    <li><a href="#creating-a-test-suite">Creating a test suite</a>
    <ul>
      <li><a href="#creating-test-cases">Creating test cases</a></li>
      <li><a href="#running-the-tests">Running the tests</a></li>
      <li><a href="#reports">Reports</a></li>
      <li><a href="#logging">Logging</a>
      <ul>
        <li><a href="#logger-configuration">Logger configuration</a></li>
      </ul></li>
      <li><a href="#json-schema">JSON Schema</a>
      <ul>
        <li><a href="#example-schema-setup-vscode">Example schema setup - VSCode</a></li>
      </ul></li>
    </ul></li>
  </ul></li>
  <li><a href="#integration-with-ci-vendors">Integration with CI vendors</a></li>
  <li><a href="#yaml-config-file-specification">YAML Config File Specification</a>
  <ul>
    <li><a href="#example-yaml-simple">Example YAML (simple)</a></li>
    <li><a href="#config-section">Config section</a></li>
    <li><a href="#advanced-features">Advanced features</a></li>
    <li><a href="#example-yaml-complex">Example YAML (complex)</a></li>
    <li><a href="#full-api-specification">Full API specification</a></li>
  </ul></li>
  <li><a href="#python-config-file-specification">Python Config File Specification</a>
  <ul>
    <li><a href="#extending-specification">Extending specification</a></li>
    <li><a href="#running-tests-with-a-python-config">Running tests with a Python config</a>
    <ul>
      <li><a href="#running-with-kalash-cli">Running with Kalash CLI</a></li>
      <li><a href="#runing-directly-with-python">Runing directly with Python</a></li>
    </ul></li>
  </ul></li>
  <li><a href="#advanced-configuration-and-usage">Advanced Configuration and Usage</a>
  <ul>
    <li><a href="#base-directory-resolution-in-config-files">Base directory resolution in config files</a></li>
    <li><a href="#setup-and-teardown">Setup and teardown</a></li>
    <li><a href="#accessing-configuration-from-within-test-cases">Accessing configuration from within test cases</a>
    <ul>
      <li><a href="#accessing-configuration-directly">Accessing configuration directly</a></li>
    </ul></li>
    <li><a href="#hypothetical-runs">Hypothetical runs</a></li>
  </ul></li>
  <li><a href="#contributing">Contributing</a>
  <ul>
    <li><a href="#prerequisites">Prerequisites</a></li>
    <li><a href="#contributing-process">Contributing - process 🖋</a></li>
    <li><a href="#processes-and-conventions">Processes and Conventions 👮‍♀️</a></li>
    <li><a href="#code-quality">Code quality 💯</a></li>
  </ul></li>
  <li><a href="#credits">Credits</a></li>
</ul>


                    <h2>Submodules</h2>
                    <ul>
                            <li><a href="kalash/collectors.html">kalash.collectors</a></li>
                            <li><a href="kalash/config.html">kalash.config</a></li>
                            <li><a href="kalash/filter.html">kalash.filter</a></li>
                            <li><a href="kalash/kalash_test_loader.html">kalash.kalash_test_loader</a></li>
                            <li><a href="kalash/last_result_filter.html">kalash.last_result_filter</a></li>
                            <li><a href="kalash/log.html">kalash.log</a></li>
                            <li><a href="kalash/metaparser.html">kalash.metaparser</a></li>
                            <li><a href="kalash/run.html">kalash.run</a></li>
                            <li><a href="kalash/smuggle.html">kalash.smuggle</a></li>
                            <li><a href="kalash/spec.html">kalash.spec</a></li>
                            <li><a href="kalash/test_case.html">kalash.test_case</a></li>
                            <li><a href="kalash/testutils.html">kalash.testutils</a></li>
                            <li><a href="kalash/utils.html">kalash.utils</a></li>
                    </ul>



                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
kalash    </h1>

                        <div class="docstring"><p><img src="../res/kalash2.svg" alt="logo" width="200" style="display: block;margin-left: auto;margin-right: auto;"/></p>

<p>Kalash is a test runner made originally for hardware test
automation at <a href="https://technica-engineering.de/en/">Technica Engineering GmbH</a>. 🚀</p>

<h1 id="features">Features</h1>

<h2 id="what-you-can-do-with-kalash">What <strong>you</strong> can do with Kalash</h2>

<ul>
<li>Run Software or Hardware tests in an automated context as well as locally:
<ul>
<li>As singular Python Scripts</li>
<li>As test suites defined in a simple declarative <a href="#yaml-config-file-specification">YAML</a> file or more flexible <a href="#python-config-file-specification">Python configuration files</a></li>
<li>In <a href="#why-use-kalash">isolation</a> from lower-level automation server job configuration (e.g. you don't need to manage Jenkins to change the definition of a test suite to be triggered by a job)</li>
</ul></li>
<li><a href="#yaml-config-file-specification">Filter</a> test cases by way more than just a name, defining rich, complex test suites</li>
<li>Document metadata for your test cases in a manner that is <a href="#creating-test-cases">both human-readable and machine-readable</a></li>
<li>Generate <a href="#reports">standard XML XUnit reports</a></li>
<li>Log whatever happens within the test cases on a <a href="#logging">per-test-case level of granularity</a></li>
<li><a href="#accessing-configuration-from-within-test-cases">Parameterize</a> test cases easily</li>
<li>Perform <a href="#hypothetical-runs">hypothetical runs</a></li>
</ul>

<p>Read <a href="#why-use-kalash">Why Use Kalash</a> to get a more comprehenisve overview of the system.</p>

<h2 id="notable-features-available">Notable Features Available</h2>

<ul>
<li><a href="#yaml-config-file-specification">Filtering</a> by metadata tags</li>
<li><a href="#python-config-file-specification">Python</a> or <a href="#yaml-config-file-specification">YAML</a> declarative-style configuration files for test suites</li>
<li><a href="#setup-and-teardown">Setup and Teardown</a> scripts are supported</li>
<li><code>--no-recurse</code> option</li>
<li><code>--fail-fast</code> option</li>
<li>Each test case has its own <a href="#logging">logger</a></li>
<li><code>--what-if</code> option</li>
<li><a href="#logging">Logger configuration</a> via CLI</li>
<li><a href="#accessing-configuration-from-within-test-cases">Dynamic parametrization</a> of the test cases</li>
</ul>

<h2 id="notable-features-planned">Notable Features Planned</h2>

<ul>
<li>Log files grouping based on arbitrary metadata tags</li>
<li>Stable last-result filtering</li>
<li>JIRA integration - loading metadata automatically from JIRA tickets</li>
</ul>

<h1 id="basic-usage">Basic Usage</h1>

<h2 id="before-installation">Before installation</h2>

<p>We require <strong>Python 3.7 or higher version</strong> to be installed on your system before Kalash can be installed.</p>

<p>Describing how to get Python working is out of the scope of our documentation.</p>

<h2 id="installation">Installation</h2>

<p>Simply run <code>pip install kalash</code>.</p>

<p>Note: for this to work <code>pip</code> needs to be in your <code>PATH</code>.</p>

<h2 id="why-use-kalash">Why use Kalash</h2>

<p>Kalash was originally created as a lightweight wrapper around a <code>unittest.TestCase</code> that insulates QA Engineers from the necessity of managing automation services like Jenkins and increasing security and stability of a running automation service instance.</p>

<p>Simply put, we've created this because we didn't want to give admin access over Jenkins to all our QA Engineers to reduce risk of some important jobs being clobbered. 😀</p>

<p>Kalash has grown out to include a number of amazing features:</p>

<ul>
<li>built-in logger on the <code>TestCase</code> class</li>
<li>runtime access to runner's configuration enabling new parametrization strategies</li>
<li>ability to filter test cases against specific values outlined in the metadata tag</li>
<li>ability to define complex test suites in declarative YAML or Python configuration files to modify runtime collection of tests</li>
<li>ability to inspect hypothetical test suites that <em>would</em> run were the tests to be triggered</li>
</ul>

<h3 id="the-system">The system</h3>

<p>Kalash is originally intended for an automation system defined as:</p>

<p><img src="../res/kalash_flow.svg" alt="logo"/></p>

<p>What do you need to do to use it for test automation?</p>

<ol>
<li>You create a YAML and name it as you want. You put that file in the <code>yamls</code> folder in a test repository. We recommend to name the YAML file after the job name. If you want a <code>json</code> create a JSON. It will work as well.</li>
<li>You contact IT so they can create an automated job for you. Or create a CI job on your own if you're not working in a team.</li>
<li>Once you have a job created any updates you make to the YAML file will affect the test collection you've specified.</li>
</ol>

<h2 id="creating-a-test-suite">Creating a test suite</h2>

<p>A suite is defined by a singular configuration file. The file may be:</p>

<ul>
<li><code>.py</code> file - should contain exactly one <code><a href="kalash/config.html#Trigger">kalash.config.Trigger</a></code> instance</li>
<li><code>.yaml</code> file - should follow a specification described in <a href="#yaml-config-file-specification">yaml specification</a></li>
</ul>

<p>Kalash will collect only test cases following a rigid template.</p>

<h3 id="creating-test-cases">Creating test cases</h3>

<p>Each test should be based on the following test template:</p>

<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">META_START</span>
<span class="sd">---</span>
<span class="sd">id: 999999002_99-Blah_9-Whatever</span>
<span class="sd">META_END</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">MetaLoader</span><span class="p">,</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">main</span>

<span class="kn">import</span> <span class="nn">os</span>


<span class="k">class</span> <span class="nc">TestSomething</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Running for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">(</span><span class="n">testLoader</span><span class="o">=</span><span class="n">MetaLoader</span><span class="p">())</span>
</code></pre></div>

<p>This is the most minimal test template specifying a metadata section and a slightly modified wrapped <code>unittest.TestCase</code> class with additional features.</p>

<p>A more built-out example would be:</p>

<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">META_START</span>
<span class="sd">---</span>
<span class="sd">id: 999999002_99-Blah_9-Whatever              # ID of the test</span>
<span class="sd">use_cases:                              # JIRA ticket names of the related use cases</span>
<span class="sd">  - FearFactory                               # Example JIRA ticket name</span>
<span class="sd">workbenches:                                  # Workbench where the test is meant to be run</span>
<span class="sd">  - Gojira                                    # Example workbench</span>
<span class="sd">devices:                                      # Resources to run with</span>
<span class="sd">  - cancombo</span>
<span class="sd">  - lincombo</span>
<span class="sd">META_END</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">MetaLoader</span><span class="p">,</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">main</span><span class="p">,</span> <span class="n">parameterized</span>


<span class="k">class</span> <span class="nc">TestAdvancedFiltering1</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="nd">@parameterized</span><span class="o">.</span><span class="n">expand</span><span class="p">([</span><span class="s1">&#39;lincombo&#39;</span><span class="p">,</span> <span class="s1">&#39;cancombo&#39;</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">test_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">allow_when</span><span class="p">(</span><span class="s1">&#39;run_only_with&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Running for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">(</span><span class="n">testLoader</span><span class="o">=</span><span class="n">MetaLoader</span><span class="p">())</span>
</code></pre></div>

<h3 id="running-the-tests">Running the tests</h3>

<p>To trigger a particular test suite you may run <code>kalash run -f ./path/to/config.py</code> and if you need more configuration options run <code>kalash --help</code>.</p>

<h3 id="reports">Reports</h3>

<p>By default test reports will be written to the current working directory, unless overridden by the <code>report</code> key in the <code>config</code> section (see: <a href="#yaml-config-file-specification">yaml specification</a>).</p>

<p>The reports produced by Kalash are standard XML XUnit reports that can be parsed and displayed by a treasure trove of open-source applications.</p>

<h3 id="logging">Logging</h3>

<p>Every test case has a built-in logger that gets destroyed as soon as the test is complete. You can access it via <code>self.logger</code> on the <code>TestCase</code> class. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">META_START</span>
<span class="sd">---</span>
<span class="sd">id: 999999001_99-Blah_9-Whatever</span>
<span class="sd">META_END</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">MetaLoader</span><span class="p">,</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">main</span>


<span class="k">class</span> <span class="nc">TestLogger1</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;hello1&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">(</span><span class="n">testLoader</span><span class="o">=</span><span class="n">MetaLoader</span><span class="p">())</span>
</code></pre></div>

<h4 id="logger-configuration">Logger configuration</h4>

<p>The logger can be configured using the following CLI switches:</p>

<ul>
<li><code>--log-dir</code> - base directory for logs</li>
<li><code>--log-level</code> - Python's <code>logging</code> library log verbosity</li>
<li><code>--log-format</code> - Python's <code>logging</code> library formatter string</li>
<li><code>--group-by</code> - grouping log files by metadata tags</li>
</ul>

<p>By default logs are written to a <code>logs</code> folder in the current working directory. Each test case gets its separate folder and log files contained within start with a timestamp.</p>

<p>If <code>--group-by</code> is used, those test case folders are grouped by any specified property from the metadata tag. For example <code>--group-by devices</code> will group test cases by the <code>devices</code> key. If <code>devices</code> is a single string e.g. <code>"cancombo"</code> the log tree will be <code>"logs/cancombo/TestCaseID/123456789_TestCaseID"</code>. If <code>devices</code> is a list, e.g. <code>["cancombo", "lincombo"]</code>, the log tree will be <code>"logs/cancombo_lincombo/TestCaseID/123456789_TestCaseID"</code>.</p>

<h3 id="json-schema">JSON Schema</h3>

<p>You can make use of a JSON schema to make writing your YAML or JSON files a little easier. The schema is located <a href="https://raw.githubusercontent.com/Technica-Engineering/kalash/master/kalash/spec.schema.json">here</a>.</p>

<h4 id="example-schema-setup-vscode">Example schema setup - VSCode</h4>

<p>Every editor handles JSON schemas a little differently. Here is an example on how to configure Visual Studio Code.</p>

<ol>
<li>Open Settings (Ctrl+Shift+P and type in settings) as JSON.</li>
<li><p>Modify or add <code>"yaml.schemas"</code> like this:</p>

<div class="codehilite"><pre><span></span><code><span class="nt">&quot;yaml.schemas&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;https://raw.githubusercontent.com/Technica-Engineering/kalash/feature/7-8-schemas-and-json/kalash/spec.schema.json&quot;</span><span class="p">:</span> <span class="s2">&quot;*.k.yaml&quot;</span>
<span class="p">},</span>
</code></pre></div></li>
<li><p>Name Kalash YAML files with <code>.k.yaml</code> extension. When you open such file, the schema will be automatically loaded and will suggest what keys are allowed in the YAML file.</p></li>
</ol>

<p>If you are using JSON files instead, you could do this:</p>

<ol>
<li>Open Settings (Ctrl+Shift+P and type in settings) as JSON.</li>
<li><p>Modify or add <code>"json.schemas"</code> like this:</p>

<div class="codehilite"><pre><span></span><code><span class="nt">&quot;json.schemas&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;https://raw.githubusercontent.com/Technica-Engineering/kalash/feature/7-8-schemas-and-json/kalash/spec.schema.json&quot;</span><span class="p">:</span> <span class="s2">&quot;*.k.json&quot;</span>
<span class="p">},</span>
</code></pre></div></li>
<li><p>Name Kalash JSON files with <code>.k.json</code> extension. When you open such file, the schema will be automatically loaded and will suggest what keys are allowed in the JSON file.</p></li>
</ol>

<h1 id="integration-with-ci-vendors">Integration with CI vendors</h1>

<p>Kalash is vendor-independent. That is, there is literally no difference whether you want to use Jenkins or GitLab CI, or anything else. Here's an example of usage with Jenkins:</p>

<div class="codehilite"><pre><span></span><code><span class="n">stage</span> <span class="o">(</span><span class="s2">&quot;Call kalash runner&quot;</span><span class="o">){</span>
    <span class="n">steps</span><span class="o">{</span>
        <span class="n">bat</span> <span class="s1">&#39;&#39;&#39;CALL conda.bat activate some_env</span>
<span class="s1">                kalash run -f &quot;.<a href="#yaml">kalash.yaml</a>&quot;</span>
<span class="s1">            &#39;&#39;&#39;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<p>What's happenning there? If you add this to your Jenkinsfile in tests repository and add a <code>".<a href="#yaml">kalash.yaml</a>"</code> file, <code><a href="">kalash</a></code> will use that file (<code>kalash run -f ".<a href="#yaml">kalash.yaml</a>"</code> command) and run specified tests with specified configuration. With Jenkins it's best to use Anaconda3 or Miniconda3 and you need to use a Python environment which has <code><a href="">kalash</a></code> installed.</p>

<p>In practice every <code>".<a href="#yaml">kalash.yaml</a>"</code> file will translate to a single specific job that will have a corresponding <code>Jenkinsfile</code>. The reason we split <code><a href="">kalash</a></code> away from Jenkins is to allow the QA engineers to specify test configuration themselves without meddling into CI server pipeline, where it's way easier to break stuff and the file looks way more daunting to even understand.</p>

<p>For example: <code>Jenkinsfile</code>s may be created in a <code>jenkinsfiles</code> folder in each test repository and <code>yamls</code> folder wilcouldl contain the YAMLs managed by QA engineers. In Jenkins, use SCM checkout and specify the path to correct <code>Jenkinsfile</code> that maps to a given job requested by QA engineers.</p>

<h1 id="yaml-config-file-specification">YAML Config File Specification</h1>

<h2 id="example-yaml-simple">Example YAML (simple)</h2>

<p>A conventional metadata tag in a test template looks like this:</p>

<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">META_START</span>
<span class="sd">---</span>
<span class="sd">id: 000000003_12_0_1234-SomethingElse </span>
<span class="sd">use_cases:</span>
<span class="sd">  - Some Jira ticket</span>
<span class="sd">workbenches:</span>
<span class="sd">  - BloodhoundGang</span>
<span class="sd">META_END</span>

<span class="sd">Below the META_END tag you can write any additional comments you need</span>
<span class="sd">for your test case.</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div>

<p>It's always placed at the top of the test case file.</p>

<p>Imagine it's saved under <code>test_something.py</code>. The simplest way to run the test case using Kalash would be:</p>

<ol>
<li><p>Create a <code>something.yaml</code> file with the following contents:</p>

<div class="codehilite"><pre><span></span><code><span class="nt">tests</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;./test_something.py&#39;</span>
</code></pre></div></li>
<li><p>Run <code>kalash run -f ./something.yaml</code>.</p></li>
</ol>

<h2 id="config-section">Config section</h2>

<p>The configuration file is split into two components: <code>tests</code> and <code>config</code>.</p>

<ul>
<li><code>tests</code> - this section defines <strong>solely the test collection process</strong>.</li>
<li><code>config</code> - this section **modifies runtime behavior of the test cases.</li>
</ul>

<p><code>config</code> section is optional.</p>

<h2 id="advanced-features">Advanced features</h2>

<p>Read <a href="#base-directory-resolution-in-config-files">advanced configuration options</a> to learn more about the more advanced configuration options using the YAML file.</p>

<h2 id="example-yaml-complex">Example YAML (complex)</h2>

<div class="codehilite"><pre><span></span><code><span class="nt">tests</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;$(WorkDir)/tests/test_scripts&#39;</span>
    <span class="nt">id</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&#39;000000003_12_0_1234-SomethingElse&#39;</span>
    <span class="nt">setup</span><span class="p">:</span> <span class="s">&#39;$(ThisFile)/../tests/test_scripts/setup_teardown/setup_files/setup.py&#39;</span>
    <span class="nt">teardown</span><span class="p">:</span> <span class="s">&#39;$(WorkDir)/tests/test_scripts/setup_teardown/setup_files/teardown.py&#39;</span>
<span class="nt">config</span><span class="p">:</span>
  <span class="nt">report</span><span class="p">:</span> <span class="s">&#39;./kalash_reports&#39;</span>
</code></pre></div>

<h2 id="full-api-specification">Full API specification</h2>

<p>The allowed up-to date values for the YAML specification are outlined in the documentation of the <a href="#<a href="kalash/config.html#Spec">kalash.config.Spec</a>"><code>Spec</code> class</a>.</p>

<h1 id="python-config-file-specification">Python Config File Specification</h1>

<p>Python configuration files follow the same pattern as the YAML configuration files, albeit in Python code. It's best to explain it with an example:</p>

<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn"><a href="kalash/config.html">kalash.config</a></span> <span class="kn">import</span> <span class="n">CliConfig</span><span class="p">,</span> <span class="n">Config</span><span class="p">,</span> <span class="n">Trigger</span><span class="p">,</span> <span class="n">Test</span>
<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">run</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Trigger</span><span class="p">(</span>
    <span class="n">tests</span><span class="o">=</span><span class="p">[</span>
        <span class="n">Test</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="s1">&#39;./tests/some_directory&#39;</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">config</span><span class="o">=</span><span class="n">Config</span><span class="p">(</span><span class="n">report</span><span class="o">=</span><span class="s1">&#39;report-dir&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">run</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</code></pre></div>

<p>The entrypoint <code>run</code> accepts a <code>Trigger</code> instance which is a direct equivalent of a YAML configuration file. A <code>Trigger</code> object consists of:</p>

<ul>
<li><code>tests</code> - a list of <code>Test</code> objects responsible for test collection configuration</li>
<li><code>config</code> - a <code>Config</code> object that modifies runtime parameters</li>
</ul>

<h2 id="extending-specification">Extending specification</h2>

<p>You can inherit from the original <code>Test</code> and <code>Config</code> classes to extend the configuration:</p>

<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span>
<span class="kn">from</span> <span class="nn"><a href="kalash/config.html">kalash.config</a></span> <span class="kn">import</span> <span class="n">CliConfig</span><span class="p">,</span> <span class="n">Config</span><span class="p">,</span> <span class="n">Trigger</span><span class="p">,</span> <span class="n">Test</span><span class="p">,</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">run</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CustomConfig</span><span class="p">(</span><span class="n">Config</span><span class="p">):</span>
    <span class="n">run_only_with</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>


<span class="n">t</span> <span class="o">=</span> <span class="n">Trigger</span><span class="p">(</span>
    <span class="n">tests</span><span class="o">=</span><span class="p">[</span>
        <span class="n">Test</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="s1">&#39;./tests/test_scripts/python_instead_of_yaml&#39;</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">config</span><span class="o">=</span><span class="n">CustomConfig</span><span class="p">(</span><span class="n">run_only_with</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cancombo&#39;</span><span class="p">])</span>
<span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">run</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
</code></pre></div>

<p>One caveat here is that <strong>you must provide default values</strong> for each new attribute on a customized class. That's because the default classes already have sensible defaults baked in and you cannot place attributes without default values after attributes with default values.</p>

<h2 id="running-tests-with-a-python-config">Running tests with a Python config</h2>

<p>Because this is a Python file you can either run it directly or still use Kalash CLI to trigger your tests.</p>

<h3 id="running-with-kalash-cli">Running with Kalash CLI</h3>

<p>Simply put: <code>kalash run -f ./path/to/config.py</code>.</p>

<h3 id="runing-directly-with-python">Runing directly with Python</h3>

<p>If the <code>__main__</code> clause is present in the file you may just trigger the script with Python, e.g. <code>python ./path/to/config.py</code>.</p>

<p>The difference is that when you run this as a Python script you will not be able to provide additional CLI flags on the command line. But you may choose to feed them in directly within the configuration file:</p>

<div class="codehilite"><pre><span></span><code><span class="kn">from</span> <span class="nn"><a href="kalash/config.html">kalash.config</a></span> <span class="kn">import</span> <span class="n">CliConfig</span><span class="p">,</span> <span class="n">Config</span><span class="p">,</span> <span class="n">Trigger</span><span class="p">,</span> <span class="n">Test</span>
<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">run</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">Trigger</span><span class="p">(</span>
    <span class="n">tests</span><span class="o">=</span><span class="p">[</span>
        <span class="n">Test</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="s1">&#39;./tests/some_directory&#39;</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">config</span><span class="o">=</span><span class="n">Config</span><span class="p">(</span><span class="n">report</span><span class="o">=</span><span class="s1">&#39;report-dir&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">run</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">CliConfig</span><span class="p">(</span><span class="n">log_dir</span><span class="o">=</span><span class="s1">&#39;logs&#39;</span><span class="p">))</span>
</code></pre></div>

<p>Note:</p>

<ul>
<li>The <strong>python config is a better choice when you want to preserve CLI configuration</strong> for all future runs.</li>
<li>The <strong><code>CliConfig</code> specified in the file will be overridden if you run this with <code><a href="">kalash</a></code> CLI command</strong>.</li>
</ul>

<h1 id="advanced-configuration-and-usage">Advanced Configuration and Usage</h1>

<h2 id="base-directory-resolution-in-config-files">Base directory resolution in config files</h2>

<p>By default an expression like <code>path: './test_something.py'</code> defaults to working directory: it will <strong>look for paths relative to where <code><a href="">kalash</a></code> command is run</strong>. For convenience we expose the following directory resolution options:</p>

<ul>
<li><code>$(WorkDir)</code> - same behavior as <code>.</code>, relative to working directory.</li>
<li><code>$(ThisFile)</code> - relative to the location of the configuration file itself.</li>
</ul>

<h2 id="setup-and-teardown">Setup and teardown</h2>

<p>On top of the standard <code>setUp</code> and <code>tearDown</code> methods we offer <code>setup</code> and <code>teardown</code> script mappings. For example:</p>

<div class="codehilite"><pre><span></span><code><span class="nt">tests</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="s">&#39;$(WorkDir)/tests/test_scripts&#39;</span>
    <span class="nt">setup</span><span class="p">:</span> <span class="s">&#39;$(ThisFile)/../tests/test_scripts/setup_teardown/setup_files/setup.py&#39;</span>
    <span class="nt">teardown</span><span class="p">:</span> <span class="s">&#39;$(WorkDir)/tests/test_scripts/setup_teardown/setup_files/teardown.py&#39;</span>
<span class="nt">config</span><span class="p">:</span>
  <span class="nt">report</span><span class="p">:</span> <span class="s">&#39;./kalash_reports&#39;</span>
  <span class="nt">setup</span><span class="p">:</span> <span class="s">&#39;$(ThisFile)/../tests/test_scripts/setup_teardown/setup_files/setup.py&#39;</span>
  <span class="nt">teardown</span><span class="p">:</span> <span class="s">&#39;$(WorkDir)/tests/test_scripts/setup_teardown/setup_files/teardown.py&#39;</span>
</code></pre></div>

<p>The two flavors can be explained as follows:</p>

<ul>
<li>If the <code>setup</code>/<code>teardown</code> step is under a <code>Test</code> element (under <code>tests</code> in the YAML config) it runs once before/after the complete collection of tests from a <code>Test</code> element.</li>
<li>If the <code>setup</code>/<code>teardown</code> step is under a <code>Config</code> element (under <code>config</code> in the YAML config) it runs once before/after the complete collection of tests from the entire run.</li>
</ul>

<h2 id="accessing-configuration-from-within-test-cases">Accessing configuration from within test cases</h2>

<p>To allow dynamic parametrization we expose the following pattern:</p>

<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">META_START</span>
<span class="sd">---</span>
<span class="sd">id: 999999002_99-Blah_9-Whatever</span>
<span class="sd">META_END</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">MetaLoader</span><span class="p">,</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">main</span><span class="p">,</span> <span class="n">parameterized</span>

<span class="kn">import</span> <span class="nn">os</span>


<span class="k">class</span> <span class="nc">TestAdvancedFiltering1</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="nd">@parameterized</span><span class="o">.</span><span class="n">expand</span><span class="p">([</span><span class="s1">&#39;lincombo&#39;</span><span class="p">,</span> <span class="s1">&#39;cancombo&#39;</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">test_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">allow_when</span><span class="p">(</span><span class="s1">&#39;run_only_with&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Running for </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">(</span><span class="n">testLoader</span><span class="o">=</span><span class="n">MetaLoader</span><span class="p">())</span>
</code></pre></div>

<p><code>@parameterized.expand</code> is essentially unchanged, coming from the original <code>parameterized</code> Python library. <code>self.allow_when</code> queries the <code>config</code> section of the used configuration file with <code>run_only_with</code> and checks whether <code>name</code> is within the list of the <code>run_only_with</code> tags. Any configuration options can be filtered in this way, even <code>report</code>.</p>

<p><code>self.allow_when</code> will only allow a parameterized test case to be triggered when the condition is met. If the file is run locally (triggered as a Python script, not via Kalash), the call will simply be ignored (since there is no config being provided in such a situation).</p>

<h3 id="accessing-configuration-directly">Accessing configuration directly</h3>

<p>The <code>TestCase</code> class exposes <code>trigger</code> property which lets you directly refer to the test case configuration elements:</p>

<div class="codehilite"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">META_START</span>
<span class="sd">---</span>
<span class="sd">id: 999999002_99-Blah_9-Whatever</span>
<span class="sd">META_END</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn"><a href="kalash/run.html">kalash.run</a></span> <span class="kn">import</span> <span class="n">MetaLoader</span><span class="p">,</span> <span class="n">TestCase</span><span class="p">,</span> <span class="n">main</span><span class="p">,</span> <span class="n">parameterized</span>


<span class="k">class</span> <span class="nc">TestSomething</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">config</span><span class="p">:</span>
                <span class="c1"># prints the `config` section</span>
                <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger</span><span class="o">.</span><span class="n">config</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">(</span><span class="n">testLoader</span><span class="o">=</span><span class="n">MetaLoader</span><span class="p">())</span>
</code></pre></div>

<p>The name <code>trigger</code> comes from the name of the class used in <a href="#python-config-file-specification">Python configuration files</a>.</p>

<h2 id="hypothetical-runs">Hypothetical runs</h2>

<p>If you wish to see what tests Kalash would run if it were to be triggered use the <code>--what-if</code> flag.</p>

<ul>
<li><code>kalash run -f some.yaml --what-if paths</code> - list all collected test paths</li>
<li><code>kalash run -f some.yaml --what-if ids</code> - list all collected test ids</li>
</ul>

<h1 id="contributing">Contributing</h1>

<h2 id="prerequisites">Prerequisites</h2>

<p>All you need to develop for this project is to <code>pip install nox</code>.</p>

<p><code>nox</code> is a build and test automation driver for Python development that will automatically prepare your environment for testing.</p>

<h2 id="contributing-process">Contributing - process 🖋</h2>

<p>Before submitting a pull request you must make sure that the CI pipeline passes all tests. The simplest way to contribute is thus:</p>

<ol>
<li>Read the <a href="#processes-and-conventions">Processes and conventions section</a>.</li>
<li>Fork this repo.</li>
<li>Install Kalash in develop mode: <code>pip install -e '.[dev]'</code>.</li>
<li>Implement tests for your change (Test-Driven Development).</li>
<li>Implement your change.</li>
<li>If you have modified the user-facing data model (e.g. <code>Trigger</code>, <code>Test</code> or <code>Meta</code> classes), make sure to regenerate the JSON schema (<code>nox -e json_schema</code>).</li>
<li>Run tests locally using <code>nox -e test</code>.</li>
<li>Check whether your tests have satisfactory coverage: Run <code>coverage html</code> after triggering the tests and check <code>htmlcov/index.html</code>. Our minimum target coverage is 85%.</li>
<li>Run <code>flake8</code> at the root of this repository and correct any code-style deviations.</li>
<li>Document the change.</li>
<li>Update the <code>CHANGELOG</code>. Use the <a href="https://keepachangelog.com/en/1.0.0/">correct</a> style guidelines for the changelog.</li>
<li>Push code to your fork.</li>
<li>Run the CI pipeline (will run tests, code quality checks).</li>
<li>Create a pull request to the <strong><code>master</code> branch</strong>.</li>
</ol>

<p>New releases are prepared periodically by checking out a stable <code>master</code> branch. When the release is published documentation is built and a new package will be created and published in PyPI. <strong>Maintainers creating releases should heed to change the version tag in <code>setup.cfg</code></strong>.</p>

<h2 id="processes-and-conventions">Processes and Conventions 👮‍♀️</h2>

<p>We use a slightly modified GitFlow practice in our development:</p>

<ol>
<li>Each change/issue should have its own branch named after the issue ID, for instance:
<ul>
<li><code>chore/2-git-hooks-setup</code></li>
<li><code>fix/123-some-bug</code></li>
<li><code>feature/456-some-feature</code>
The part we really care about is whatever you place before the slash and should contain one of the well known Git keywords:
<ul>
<li><code>chore</code></li>
<li><code>fix</code></li>
<li><code>feature</code></li>
<li><code>doc</code></li>
<li><code>refactor</code></li>
<li>etc.</li>
</ul></li>
</ul></li>
<li>Each commit should start with the aforementioned keywords, e.g. <code>chore: updating version tag</code>.</li>
<li>There is one protected branch: <code>master</code>.</li>
<li>When creating a pull request you should <strong>create a pull request for <code>master</code> branch</strong>. Nobody is permitted to merge broken and untested code to <code>master</code>.</li>
</ol>

<h2 id="code-quality">Code quality 💯</h2>

<p>Few things to heed:</p>

<ul>
<li><strong>If <code>flake8</code> tells you your code is crap, fix it before creating a pull request</strong>. We want this project to have high code quality standards. The pipeline will check it for you, so if it doesn't pass you will have to correct yourself before proceeding. 😄</li>
<li><strong>Use type hints</strong>. Seriosusly. Code that takes little care of the types will be rejected right away. We know Python is dynamically typed but we don't like it. It seems like a pain in the neck in the beginning but spend a month with type hints and you'll never go back. It's much easier to catch nasty bugs when you use them.</li>
<li><strong>Create tests</strong>. Generally, small fixes <em>might</em> be accepted without tests, usually when we're dealing with something that's blatantly obvious. But you should always prefer to create tests for your changes and test locally before creating a pull request.</li>
<li><strong>Use a good editor or an IDE</strong>. You should aim for no red squiggly lines, be it in VSCode or PyCharm, doesn't matter. But be sure that if one of the maintainers pulls your change and sees red squiggly lines, you will need to correct your changes accordingly before anything can be merged.</li>
<li>If you're using <strong>type aliases</strong> consider adding them in <code>"config.py"</code> and documenting them in the <code>__doc__</code> attribute. <code>"config.py"</code> contains the base data model for Kalash, we want to keep it that way so that it's easy to reason about type dependencies. <strong>Type aliases are recommended</strong> because if whenever you decide you need a different type, you only need to change one line (unless the type is incompatible). 😀</li>
</ul>

<h1 id="credits">Credits</h1>

<p>Made with love by Technica Engineering GmbH Product Testing team:</p>

<ul>
<li><a href="https://github.com/kjczarne">Krzysztof Czarnecki</a></li>
<li>Pablo Prol</li>
<li>Shane Butler</li>
</ul>

<p>Special thanks to our friends who made this open-source release possible:</p>

<ul>
<li>Thanh Pham</li>
<li>Arantxa Fernandez</li>
<li>Guillermo Castanera</li>
<li>Daniel Barreiro</li>
</ul>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. include:: ./pdoc/header.md</span>

<span class="sd">.. include:: ./pdoc/features.md</span>
<span class="sd">.. include:: ./pdoc/basic_usage.md</span>
<span class="sd">.. include:: ./pdoc/automation_servers.md</span>
<span class="sd">.. include:: ./pdoc/yaml_spec.md</span>
<span class="sd">.. include:: ./pdoc/python_spec.md</span>
<span class="sd">.. include:: ./pdoc/advanced_config.md</span>
<span class="sd">.. include:: ./pdoc/contributing.md</span>
<span class="sd">.. include:: ./pdoc/trailer.md</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">__docformat__</span> <span class="o">=</span> <span class="s2">&quot;restructuredtext&quot;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;4.0.0&quot;</span>
</pre></div>

        </details>

            </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">(${doc.parameters.join(", ")})</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>