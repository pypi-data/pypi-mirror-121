(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-98717140"],{"4bf6":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"pro-router-wrap"},[e("div",{staticClass:"pro-router-left"},[e("div",{staticClass:"step-trace"},[e("div",{staticClass:"title-wrap"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.stepTrace")))]),e("div",{staticClass:"view-detail"},[e("button",{class:{disabled:!0},attrs:{disabled:!0}},[t._v(t._s(t.$t("profiling.viewDetail"))+" "),e("i",{staticClass:"el-icon-d-arrow-right"})])])]),e("div",{staticClass:"trace-container"},[e("div",{staticClass:"image-noData"},[e("div",[e("img",{attrs:{src:a("9485"),alt:""}})]),e("p",[t._v(t._s(t.$t("public.noData")))])])])]),e("div",{staticClass:"minddata"},[e("div",{staticClass:"title-wrap"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.mindData")))]),e("div",{staticClass:"view-detail"},[e("button",{class:{disabled:!0},attrs:{disabled:!0}},[t._v(" "+t._s(t.$t("profiling.viewDetail"))+" "),e("i",{staticClass:"el-icon-d-arrow-right"})])])]),e("div",{staticClass:"image-noData"},[e("div",[e("img",{attrs:{src:a("9485"),alt:""}})]),e("p",[t._v(t._s(t.$t("public.noData")))])])])]),e("div",{staticClass:"pro-router-right"},[e("div",{staticClass:"op-time-consume"},[e("div",{staticClass:"title-wrap"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.rankOfOperator")))]),e("div",{staticClass:"view-detail"},[e("button",{class:{disabled:t.pieChart.noData&&0===t.pieChart.data.length},attrs:{disabled:t.pieChart.noData&&0===t.pieChart.data.length},on:{click:function(i){return t.viewDetail("operator")}}},[t._v(t._s(t.$t("profiling.viewDetail"))+" "),e("i",{staticClass:"el-icon-d-arrow-right"})])])]),t.pieChart.noData?e("div",{staticClass:"image-noData"},[e("div",[e("img",{attrs:{src:a("9485"),alt:""}})]),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.pieChart.initOver,expression:"!pieChart.initOver"}]},[t._v(t._s(t.$t("public.dataLoading")))]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.pieChart.initOver,expression:"pieChart.initOver"}]},[t._v(t._s(t.$t("public.noData")))])]):t._e(),e("div",{staticClass:"op-time-content"},[t.pieChart.data.length?e("div",{staticClass:"pie-chart",attrs:{id:"pieChart"}}):t._e(),t.pieChart.data.length?e("div",{staticClass:"time-list"},[e("ul",t._l(t.pieChart.topN,(function(i,a){return e("li",{key:a,staticClass:"item"},[e("span",{staticClass:"index",style:{"background-color":t.pieChart.colorList[a]}},[t._v(t._s(a+1))]),e("span",{staticClass:"name"},[t._v(t._s(i.name))]),e("span",{staticClass:"num"},[t._v(t._s(i.frequency+t.$t("profiling.times")))]),e("span",{staticClass:"time"},[e("span",{staticClass:"bar",style:{width:i.time/t.pieChart.topN[0].time*100+"%"}}),e("span",{staticClass:"value"},[t._v(t._s(i.time+t.$t("profiling.gpuunit")))])])])})),0)]):t._e()])]),e("div",{staticClass:"time-line"},[e("div",{staticClass:"title-wrap"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("profiling.timeLine")))]),e("div",{staticClass:"view-detail"},[e("button",{class:{disabled:!0},attrs:{disabled:!0}},[t._v(t._s(t.$t("profiling.downloadTimeline"))+" ")])]),e("div",{staticClass:"tip-icon"},[e("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[e("div",{staticClass:"tooltip-container",attrs:{slot:"content"},slot:"content"},[e("div",{staticClass:"pro-dash-tooltip"},[e("div",{staticClass:"font-size-style"},[t._v(t._s(t.$t("profiling.features")))]),e("div",{staticClass:"font-style"},[t._v(t._s(t.$t("profiling.timelineTips.title1")))]),e("div",[t._v(t._s(t.$t("profiling.timelineTips.content12")))]),e("div",[t._v(t._s(t.$t("profiling.timelineTips.content13")))]),e("div",[t._v(t._s(t.$t("profiling.timelineTips.content14")))]),e("br"),e("div",{staticClass:"font-style"},[t._v(t._s(t.$t("profiling.timelineTips.title2")))]),e("div",[t._v(" "+t._s(t.$t("profiling.timelineTips.content21.part1"))+" "),e("b",[t._v(t._s(t.$t("profiling.timelineTips.content21.part2")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content21.part3"))+" ")]),e("div",[t._v(t._s(t.$t("profiling.timelineTips.content22")))]),e("div",[t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part1"))+" "),e("b",[t._v(t._s(t.$t("profiling.timelineTips.content23.part2")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part3"))+" "),e("b",[t._v(t._s(t.$t("profiling.timelineTips.content23.part4")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part5"))+" "),e("b",[t._v(t._s(t.$t("profiling.timelineTips.content23.part6")))]),t._v(" "+t._s(t.$t("profiling.timelineTips.content23.part7"))+" ")]),e("br"),e("div",{staticClass:"font-style"},[t._v(t._s(t.$t("profiling.timelineTips.title3")))]),e("div",[t._v(t._s(t.$t("profiling.timelineTips.content31")))]),e("div",[t._v(t._s(t.$t("profiling.timelineTips.content32")))])])]),e("i",{staticClass:"el-icon-info"})])],1)]),e("div",{staticClass:"image-noData"},[e("div",[e("img",{attrs:{src:a("9485"),alt:""}})]),e("p",[t._v(t._s(t.$t("public.noData")))])])])])])},n=[],s=(a("99af"),a("b0c0"),a("159b"),a("d81d"),a("fb6a"),a("9fac")),r=a("3778"),o=a("2dd7"),l={data:function(){return{trainInfo:{id:this.$route.query.id,dir:this.$route.query.dir,path:this.$route.query.path},currentCard:"",queueInfoShow:!1,deviceInfoShow:!1,fpBpPercent:"--",fpPercent:"--",iterationIntervalPercent:"--",totalSteps:"--",totalTime:"--",tailPercent:"--",pieChart:{chartDom:null,data:[],noData:!0,topN:[],colorList:o["a"].pieColorArr[this.$store.state.themeIndex],initOver:!1},themeIndex:this.$store.state.themeIndex}},watch:{"$parent.curDashboardInfo":{handler:function(t){""===t.curCardNum&&(this.pieChart.noData=!0,this.pieChart.initOver=!0),t.query.dir&&t.query.id&&t.query.path&&t.curCardNum&&(this.trainInfo=t.query,this.currentCard=t.curCardNum,this.trainingJobId?document.title="".concat(decodeURIComponent(this.trainingJobId),"-").concat(this.$t("profiling.profilingDashboard"),"-MindInsight"):document.title="".concat(this.$t("profiling.profilingDashboard"),"-MindInsight"),this.pieChart.initOver=!1,this.init())},deep:!0,immediate:!0}},methods:{init:function(){this.initPieChart()},viewDetail:function(t){this.$router.push({path:t,query:this.trainInfo})},setPieOption:function(){var t=this,i={tooltip:{trigger:"item",formatter:function(t){return"".concat(t.data.name,"<br>").concat(t.marker).concat(t.percent,"%")},confine:!0,extraCssText:"white-space:normal; word-break:break-word;"}};i.series=[{type:"pie",center:["50%","50%"],data:this.pieChart.data,radius:"80%",label:{normal:{show:!1,positionL:"inner"}},itemStyle:{normal:{color:function(i){return o["a"].pieColorArr[t.$store.state.themeIndex][i.dataIndex]}}}}],this.$nextTick((function(){var a=document.getElementById("pieChart");a?(t.pieChart.chartDom=s["a"].init(a,null),t.pieChart.chartDom.setOption(i,!0),t.pieChart.chartDom.resize()):t.pieChart.chartDom&&t.pieChart.chartDom.clear()}),10)},initPieChart:function(){var t=this,i={params:{profile:this.trainInfo.dir,train_id:this.trainInfo.id},body:{op_type:"cpu_op_type",device_id:this.currentCard,filter_condition:{op_type:{not_in:[]}},sort_condition:{name:"avg_time",type:"descending"}}};r["a"].getProfilerOpData(i).then((function(i){t.pieChart.initOver=!0,i&&i.data&&i.data.object&&(t.pieChart.data=[],i.data.object.forEach((function(i){t.pieChart.data&&t.pieChart.data.length<5?t.pieChart.data.push({name:i[0],value:i[4],frequency:i[1],percent:i[3]}):(t.pieChart.data[5]||(t.pieChart.data[5]={name:"Other",value:0,percent:0}),t.pieChart.data[5].value+=i[4],t.pieChart.data[5].percent+=i[3])})),t.setPieOption(),t.pieChart.noData=!t.pieChart.data.length,t.pieChart.topN=t.pieChart.data.slice(0,Math.min(t.pieChart.data.length,5)).map((function(t){return{name:t.name,time:t.value,frequency:t.frequency}})))})).catch((function(){t.pieChart.data=[],t.pieChart.noData=!0,t.pieChart.initOver=!0}))}}},c=l,p=(a("dfd5"),a("2877")),d=Object(p["a"])(c,e,n,!1,null,null,null);i["default"]=d.exports},"5d40":function(t,i,a){},9485:function(t,i,a){t.exports=a.p+"static/img/nodata.8290bed9.png"},b0c0:function(t,i,a){var e=a("83ab"),n=a("9bf2").f,s=Function.prototype,r=s.toString,o=/^\s*function ([^ (]*)/,l="name";e&&!(l in s)&&n(s,l,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},d81d:function(t,i,a){"use strict";var e=a("23e7"),n=a("b727").map,s=a("1dde"),r=a("ae40"),o=s("map"),l=r("map");e({target:"Array",proto:!0,forced:!o||!l},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},dfd5:function(t,i,a){"use strict";a("5d40")},fb6a:function(t,i,a){"use strict";var e=a("23e7"),n=a("861d"),s=a("e8b5"),r=a("23cb"),o=a("50c4"),l=a("fc6a"),c=a("8418"),p=a("b622"),d=a("1dde"),h=a("ae40"),v=d("slice"),u=h("slice",{ACCESSORS:!0,0:0,1:2}),f=p("species"),C=[].slice,m=Math.max;e({target:"Array",proto:!0,forced:!v||!u},{slice:function(t,i){var a,e,p,d=l(this),h=o(d.length),v=r(t,h),u=r(void 0===i?h:i,h);if(s(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?n(a)&&(a=a[f],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return C.call(d,v,u);for(e=new(void 0===a?Array:a)(m(u-v,0)),p=0;v<u;v++,p++)v in d&&c(e,p,d[v]);return e.length=p,e}})}}]);