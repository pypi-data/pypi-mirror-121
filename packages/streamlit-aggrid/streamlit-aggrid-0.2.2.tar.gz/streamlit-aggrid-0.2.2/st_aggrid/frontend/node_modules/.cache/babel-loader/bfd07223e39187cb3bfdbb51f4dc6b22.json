{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component } from '../widgets/component';\nimport { Autowired, PostConstruct, PreDestroy } from '../context/context';\nimport { GridOptionsWrapper } from '../gridOptionsWrapper';\nimport { Events } from '../events';\nimport { HeaderWrapperComp } from './header/headerWrapperComp';\nimport { HeaderGroupWrapperComp } from './headerGroup/headerGroupWrapperComp';\nimport { Constants } from '../constants/constants';\nimport { FloatingFilterWrapper } from '../filter/floating/floatingFilterWrapper';\nimport { isBrowserSafari } from '../utils/browser';\nimport { missing } from '../utils/generic';\nimport { removeFromArray } from '../utils/array';\nimport { setDomChildOrder } from '../utils/dom';\nimport { setAriaRowIndex } from '../utils/aria';\nexport var HeaderRowType;\n\n(function (HeaderRowType) {\n  HeaderRowType[HeaderRowType[\"COLUMN_GROUP\"] = 0] = \"COLUMN_GROUP\";\n  HeaderRowType[HeaderRowType[\"COLUMN\"] = 1] = \"COLUMN\";\n  HeaderRowType[HeaderRowType[\"FLOATING_FILTER\"] = 2] = \"FLOATING_FILTER\";\n})(HeaderRowType || (HeaderRowType = {}));\n\nvar HeaderRowComp = function (_super) {\n  __extends(HeaderRowComp, _super);\n\n  function HeaderRowComp(dept, type, pinned) {\n    var _this = _super.call(this,\n    /* html */\n    \"<div class=\\\"ag-header-row\\\" role=\\\"row\\\"></div>\") || this;\n\n    _this.headerComps = {};\n\n    _this.setRowIndex(dept);\n\n    _this.type = type;\n    _this.pinned = pinned;\n    var niceClassName = HeaderRowType[type].toLowerCase().replace(/_/g, '-');\n\n    _this.addCssClass(\"ag-header-row-\" + niceClassName);\n\n    if (isBrowserSafari()) {\n      // fix for a Safari rendering bug that caused the header to flicker above chart panels\n      // as you move the mouse over the header\n      _this.getGui().style.transform = 'translateZ(0)';\n    }\n\n    return _this;\n  }\n\n  HeaderRowComp.prototype.forEachHeaderElement = function (callback) {\n    var _this = this;\n\n    Object.keys(this.headerComps).forEach(function (key) {\n      callback(_this.headerComps[key]);\n    });\n  };\n\n  HeaderRowComp.prototype.setRowIndex = function (rowIndex) {\n    this.dept = rowIndex;\n    setAriaRowIndex(this.getGui(), rowIndex + 1);\n  };\n\n  HeaderRowComp.prototype.getRowIndex = function () {\n    return this.dept;\n  };\n\n  HeaderRowComp.prototype.getType = function () {\n    return this.type;\n  };\n\n  HeaderRowComp.prototype.destroyAllChildComponents = function () {\n    var idsOfAllChildren = Object.keys(this.headerComps);\n    this.destroyChildComponents(idsOfAllChildren);\n  };\n\n  HeaderRowComp.prototype.destroyChildComponents = function (idsToDestroy) {\n    var _this = this;\n\n    idsToDestroy.forEach(function (id) {\n      var childHeaderWrapper = _this.headerComps[id];\n\n      _this.getGui().removeChild(childHeaderWrapper.getGui());\n\n      _this.destroyBean(childHeaderWrapper);\n\n      delete _this.headerComps[id];\n    });\n  };\n\n  HeaderRowComp.prototype.onRowHeightChanged = function () {\n    var headerRowCount = this.columnModel.getHeaderRowCount();\n    var sizes = [];\n    var numberOfFloating = 0;\n    var groupHeight;\n    var headerHeight;\n\n    if (this.columnModel.isPivotMode()) {\n      groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n      headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n    } else {\n      if (this.columnModel.hasFloatingFilters()) {\n        headerRowCount++;\n        numberOfFloating = 1;\n      }\n\n      groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n      headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n    }\n\n    var numberOfNonGroups = 1 + numberOfFloating;\n    var numberOfGroups = headerRowCount - numberOfNonGroups;\n\n    for (var i = 0; i < numberOfGroups; i++) {\n      sizes.push(groupHeight);\n    }\n\n    sizes.push(headerHeight);\n\n    for (var i = 0; i < numberOfFloating; i++) {\n      sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n    }\n\n    var rowHeight = 0;\n\n    for (var i = 0; i < this.dept; i++) {\n      rowHeight += sizes[i];\n    }\n\n    this.getGui().style.top = rowHeight + 'px';\n    this.getGui().style.height = sizes[this.dept] + 'px';\n  }; //noinspection JSUnusedLocalSymbols\n\n\n  HeaderRowComp.prototype.init = function () {\n    this.onRowHeightChanged();\n    this.onVirtualColumnsChanged();\n    this.setWidth();\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this)); // this.addManagedListener(this.eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n  };\n\n  HeaderRowComp.prototype.onColumnResized = function () {\n    this.setWidth();\n  };\n\n  HeaderRowComp.prototype.setWidth = function () {\n    var width = this.getWidthForRow();\n    this.getGui().style.width = width + 'px';\n  };\n\n  HeaderRowComp.prototype.getWidthForRow = function () {\n    var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n\n    if (printLayout) {\n      var centerRow = missing(this.pinned);\n\n      if (centerRow) {\n        return this.columnModel.getContainerWidth(Constants.PINNED_RIGHT) + this.columnModel.getContainerWidth(Constants.PINNED_LEFT) + this.columnModel.getContainerWidth(null);\n      }\n\n      return 0;\n    } // if not printing, just return the width as normal\n\n\n    return this.columnModel.getContainerWidth(this.pinned);\n  };\n\n  HeaderRowComp.prototype.onDisplayedColumnsChanged = function () {\n    this.onVirtualColumnsChanged();\n    this.setWidth();\n  };\n\n  HeaderRowComp.prototype.getColumnsInViewport = function () {\n    var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n    return printLayout ? this.getColumnsInViewportPrintLayout() : this.getColumnsInViewportNormalLayout();\n  };\n\n  HeaderRowComp.prototype.getColumnsInViewportPrintLayout = function () {\n    var _this = this; // for print layout, we add all columns into the center\n\n\n    if (this.pinned != null) {\n      return [];\n    }\n\n    var viewportColumns = [];\n    var actualDepth = this.getActualDepth();\n    [Constants.PINNED_LEFT, null, Constants.PINNED_RIGHT].forEach(function (pinned) {\n      var items = _this.columnModel.getVirtualHeaderGroupRow(pinned, actualDepth);\n\n      viewportColumns = viewportColumns.concat(items);\n    });\n    return viewportColumns;\n  };\n\n  HeaderRowComp.prototype.getActualDepth = function () {\n    return this.type == HeaderRowType.FLOATING_FILTER ? this.dept - 1 : this.dept;\n  };\n\n  HeaderRowComp.prototype.getColumnsInViewportNormalLayout = function () {\n    // when in normal layout, we add the columns for that container only\n    return this.columnModel.getVirtualHeaderGroupRow(this.pinned, this.getActualDepth());\n  };\n\n  HeaderRowComp.prototype.onVirtualColumnsChanged = function () {\n    var _this = this;\n\n    var compIdsToRemove = Object.keys(this.headerComps);\n    var compIdsWanted = [];\n    var columns = this.getColumnsInViewport();\n    columns.forEach(function (child) {\n      // skip groups that have no displayed children. this can happen when the group is broken,\n      // and this section happens to have nothing to display for the open / closed state.\n      // (a broken group is one that is split, ie columns in the group have a non-group column\n      // in between them)\n      if (child.isEmptyGroup()) {\n        return;\n      }\n\n      var idOfChild = child.getUniqueId();\n\n      var eParentContainer = _this.getGui(); // if we already have this cell rendered, do nothing\n\n\n      var previousComp = _this.headerComps[idOfChild]; // it's possible there is a new Column with the same ID, but it's for a different Column.\n      // this is common with pivoting, where the pivot cols change, but the id's are still pivot_0,\n      // pivot_1 etc. so if new col but same ID, need to remove the old col here first as we are\n      // about to replace it in the this.headerComps map.\n\n      var previousCompForOldColumn = previousComp && previousComp.getColumn() != child;\n\n      if (previousCompForOldColumn) {\n        _this.destroyChildComponents([idOfChild]);\n\n        removeFromArray(compIdsToRemove, idOfChild);\n        previousComp = undefined;\n      }\n\n      if (previousComp) {\n        // already have comp for this column, so do nothing\n        removeFromArray(compIdsToRemove, idOfChild);\n      } else {\n        // don't have comp, need to create one\n        var headerComp = _this.createHeaderComp(child);\n\n        _this.headerComps[idOfChild] = headerComp;\n        eParentContainer.appendChild(headerComp.getGui());\n      }\n\n      compIdsWanted.push(idOfChild);\n    }); // we want to keep columns that are focused, otherwise keyboard navigation breaks\n\n    var isFocusedAndDisplayed = function isFocusedAndDisplayed(colId) {\n      var wrapper = _this.headerComps[colId];\n\n      var isFocused = _this.focusService.isHeaderWrapperFocused(wrapper);\n\n      if (!isFocused) {\n        return false;\n      }\n\n      var isDisplayed = _this.columnModel.isDisplayed(wrapper.getColumn());\n\n      return isDisplayed;\n    };\n\n    var focusedAndDisplayedComps = compIdsToRemove.filter(isFocusedAndDisplayed);\n    focusedAndDisplayedComps.forEach(function (colId) {\n      removeFromArray(compIdsToRemove, colId);\n      compIdsWanted.push(colId);\n    }); // at this point, anything left in currentChildIds is an element that is no longer in the viewport\n\n    this.destroyChildComponents(compIdsToRemove);\n    var ensureDomOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n\n    if (ensureDomOrder) {\n      var correctChildOrder = compIdsWanted.map(function (id) {\n        return _this.headerComps[id].getGui();\n      });\n      setDomChildOrder(this.getGui(), correctChildOrder);\n    }\n  };\n\n  HeaderRowComp.prototype.createHeaderComp = function (columnGroupChild) {\n    var result;\n\n    switch (this.type) {\n      case HeaderRowType.COLUMN_GROUP:\n        result = new HeaderGroupWrapperComp(columnGroupChild, this.pinned);\n        break;\n\n      case HeaderRowType.FLOATING_FILTER:\n        result = new FloatingFilterWrapper(columnGroupChild, this.pinned);\n        break;\n\n      default:\n        result = new HeaderWrapperComp(columnGroupChild, this.pinned);\n        break;\n    }\n\n    this.createBean(result);\n    result.setParentComponent(this);\n    return result;\n  };\n\n  HeaderRowComp.prototype.getHeaderComps = function () {\n    return this.headerComps;\n  };\n\n  __decorate([Autowired('columnModel')], HeaderRowComp.prototype, \"columnModel\", void 0);\n\n  __decorate([Autowired('focusService')], HeaderRowComp.prototype, \"focusService\", void 0);\n\n  __decorate([PreDestroy], HeaderRowComp.prototype, \"destroyAllChildComponents\", null);\n\n  __decorate([PostConstruct], HeaderRowComp.prototype, \"init\", null);\n\n  return HeaderRowComp;\n}(Component);\n\nexport { HeaderRowComp };","map":{"version":3,"sources":["C:/dev/streamlit-aggrid/st_aggrid/frontend/node_modules/@ag-grid-community/core/dist/es6/headerRendering/headerRowComp.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Autowired","PostConstruct","PreDestroy","GridOptionsWrapper","Events","HeaderWrapperComp","HeaderGroupWrapperComp","Constants","FloatingFilterWrapper","isBrowserSafari","missing","removeFromArray","setDomChildOrder","setAriaRowIndex","HeaderRowType","HeaderRowComp","_super","dept","type","pinned","_this","call","headerComps","setRowIndex","niceClassName","toLowerCase","replace","addCssClass","getGui","style","transform","forEachHeaderElement","callback","keys","forEach","rowIndex","getRowIndex","getType","destroyAllChildComponents","idsOfAllChildren","destroyChildComponents","idsToDestroy","id","childHeaderWrapper","removeChild","destroyBean","onRowHeightChanged","headerRowCount","columnModel","getHeaderRowCount","sizes","numberOfFloating","groupHeight","headerHeight","isPivotMode","gridOptionsWrapper","getPivotGroupHeaderHeight","getPivotHeaderHeight","hasFloatingFilters","getGroupHeaderHeight","getHeaderHeight","numberOfNonGroups","numberOfGroups","push","getFloatingFiltersHeight","rowHeight","top","height","init","onVirtualColumnsChanged","setWidth","addManagedListener","PROP_HEADER_HEIGHT","bind","PROP_PIVOT_HEADER_HEIGHT","PROP_GROUP_HEADER_HEIGHT","PROP_PIVOT_GROUP_HEADER_HEIGHT","PROP_FLOATING_FILTERS_HEIGHT","eventService","EVENT_VIRTUAL_COLUMNS_CHANGED","EVENT_DISPLAYED_COLUMNS_CHANGED","onDisplayedColumnsChanged","EVENT_COLUMN_RESIZED","onColumnResized","width","getWidthForRow","printLayout","getDomLayout","DOM_LAYOUT_PRINT","centerRow","getContainerWidth","PINNED_RIGHT","PINNED_LEFT","getColumnsInViewport","getColumnsInViewportPrintLayout","getColumnsInViewportNormalLayout","viewportColumns","actualDepth","getActualDepth","items","getVirtualHeaderGroupRow","concat","FLOATING_FILTER","compIdsToRemove","compIdsWanted","columns","child","isEmptyGroup","idOfChild","getUniqueId","eParentContainer","previousComp","previousCompForOldColumn","getColumn","undefined","headerComp","createHeaderComp","appendChild","isFocusedAndDisplayed","colId","wrapper","isFocused","focusService","isHeaderWrapperFocused","isDisplayed","focusedAndDisplayedComps","filter","ensureDomOrder","isEnsureDomOrder","correctChildOrder","map","columnGroupChild","result","COLUMN_GROUP","createBean","setParentComponent","getHeaderComps"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component } from '../widgets/component';\nimport { Autowired, PostConstruct, PreDestroy } from '../context/context';\nimport { GridOptionsWrapper } from '../gridOptionsWrapper';\nimport { Events } from '../events';\nimport { HeaderWrapperComp } from './header/headerWrapperComp';\nimport { HeaderGroupWrapperComp } from './headerGroup/headerGroupWrapperComp';\nimport { Constants } from '../constants/constants';\nimport { FloatingFilterWrapper } from '../filter/floating/floatingFilterWrapper';\nimport { isBrowserSafari } from '../utils/browser';\nimport { missing } from '../utils/generic';\nimport { removeFromArray } from '../utils/array';\nimport { setDomChildOrder } from '../utils/dom';\nimport { setAriaRowIndex } from '../utils/aria';\nexport var HeaderRowType;\n(function (HeaderRowType) {\n    HeaderRowType[HeaderRowType[\"COLUMN_GROUP\"] = 0] = \"COLUMN_GROUP\";\n    HeaderRowType[HeaderRowType[\"COLUMN\"] = 1] = \"COLUMN\";\n    HeaderRowType[HeaderRowType[\"FLOATING_FILTER\"] = 2] = \"FLOATING_FILTER\";\n})(HeaderRowType || (HeaderRowType = {}));\nvar HeaderRowComp = /** @class */ (function (_super) {\n    __extends(HeaderRowComp, _super);\n    function HeaderRowComp(dept, type, pinned) {\n        var _this = _super.call(this, /* html */ \"<div class=\\\"ag-header-row\\\" role=\\\"row\\\"></div>\") || this;\n        _this.headerComps = {};\n        _this.setRowIndex(dept);\n        _this.type = type;\n        _this.pinned = pinned;\n        var niceClassName = HeaderRowType[type].toLowerCase().replace(/_/g, '-');\n        _this.addCssClass(\"ag-header-row-\" + niceClassName);\n        if (isBrowserSafari()) {\n            // fix for a Safari rendering bug that caused the header to flicker above chart panels\n            // as you move the mouse over the header\n            _this.getGui().style.transform = 'translateZ(0)';\n        }\n        return _this;\n    }\n    HeaderRowComp.prototype.forEachHeaderElement = function (callback) {\n        var _this = this;\n        Object.keys(this.headerComps).forEach(function (key) {\n            callback(_this.headerComps[key]);\n        });\n    };\n    HeaderRowComp.prototype.setRowIndex = function (rowIndex) {\n        this.dept = rowIndex;\n        setAriaRowIndex(this.getGui(), rowIndex + 1);\n    };\n    HeaderRowComp.prototype.getRowIndex = function () {\n        return this.dept;\n    };\n    HeaderRowComp.prototype.getType = function () {\n        return this.type;\n    };\n    HeaderRowComp.prototype.destroyAllChildComponents = function () {\n        var idsOfAllChildren = Object.keys(this.headerComps);\n        this.destroyChildComponents(idsOfAllChildren);\n    };\n    HeaderRowComp.prototype.destroyChildComponents = function (idsToDestroy) {\n        var _this = this;\n        idsToDestroy.forEach(function (id) {\n            var childHeaderWrapper = _this.headerComps[id];\n            _this.getGui().removeChild(childHeaderWrapper.getGui());\n            _this.destroyBean(childHeaderWrapper);\n            delete _this.headerComps[id];\n        });\n    };\n    HeaderRowComp.prototype.onRowHeightChanged = function () {\n        var headerRowCount = this.columnModel.getHeaderRowCount();\n        var sizes = [];\n        var numberOfFloating = 0;\n        var groupHeight;\n        var headerHeight;\n        if (this.columnModel.isPivotMode()) {\n            groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n        }\n        else {\n            if (this.columnModel.hasFloatingFilters()) {\n                headerRowCount++;\n                numberOfFloating = 1;\n            }\n            groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n        }\n        var numberOfNonGroups = 1 + numberOfFloating;\n        var numberOfGroups = headerRowCount - numberOfNonGroups;\n        for (var i = 0; i < numberOfGroups; i++) {\n            sizes.push(groupHeight);\n        }\n        sizes.push(headerHeight);\n        for (var i = 0; i < numberOfFloating; i++) {\n            sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n        }\n        var rowHeight = 0;\n        for (var i = 0; i < this.dept; i++) {\n            rowHeight += sizes[i];\n        }\n        this.getGui().style.top = rowHeight + 'px';\n        this.getGui().style.height = sizes[this.dept] + 'px';\n    };\n    //noinspection JSUnusedLocalSymbols\n    HeaderRowComp.prototype.init = function () {\n        this.onRowHeightChanged();\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        // this.addManagedListener(this.eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n    };\n    HeaderRowComp.prototype.onColumnResized = function () {\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.setWidth = function () {\n        var width = this.getWidthForRow();\n        this.getGui().style.width = width + 'px';\n    };\n    HeaderRowComp.prototype.getWidthForRow = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            var centerRow = missing(this.pinned);\n            if (centerRow) {\n                return this.columnModel.getContainerWidth(Constants.PINNED_RIGHT)\n                    + this.columnModel.getContainerWidth(Constants.PINNED_LEFT)\n                    + this.columnModel.getContainerWidth(null);\n            }\n            return 0;\n        }\n        // if not printing, just return the width as normal\n        return this.columnModel.getContainerWidth(this.pinned);\n    };\n    HeaderRowComp.prototype.onDisplayedColumnsChanged = function () {\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.getColumnsInViewport = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        return printLayout ? this.getColumnsInViewportPrintLayout() : this.getColumnsInViewportNormalLayout();\n    };\n    HeaderRowComp.prototype.getColumnsInViewportPrintLayout = function () {\n        var _this = this;\n        // for print layout, we add all columns into the center\n        if (this.pinned != null) {\n            return [];\n        }\n        var viewportColumns = [];\n        var actualDepth = this.getActualDepth();\n        [Constants.PINNED_LEFT, null, Constants.PINNED_RIGHT].forEach(function (pinned) {\n            var items = _this.columnModel.getVirtualHeaderGroupRow(pinned, actualDepth);\n            viewportColumns = viewportColumns.concat(items);\n        });\n        return viewportColumns;\n    };\n    HeaderRowComp.prototype.getActualDepth = function () {\n        return this.type == HeaderRowType.FLOATING_FILTER ? this.dept - 1 : this.dept;\n    };\n    HeaderRowComp.prototype.getColumnsInViewportNormalLayout = function () {\n        // when in normal layout, we add the columns for that container only\n        return this.columnModel.getVirtualHeaderGroupRow(this.pinned, this.getActualDepth());\n    };\n    HeaderRowComp.prototype.onVirtualColumnsChanged = function () {\n        var _this = this;\n        var compIdsToRemove = Object.keys(this.headerComps);\n        var compIdsWanted = [];\n        var columns = this.getColumnsInViewport();\n        columns.forEach(function (child) {\n            // skip groups that have no displayed children. this can happen when the group is broken,\n            // and this section happens to have nothing to display for the open / closed state.\n            // (a broken group is one that is split, ie columns in the group have a non-group column\n            // in between them)\n            if (child.isEmptyGroup()) {\n                return;\n            }\n            var idOfChild = child.getUniqueId();\n            var eParentContainer = _this.getGui();\n            // if we already have this cell rendered, do nothing\n            var previousComp = _this.headerComps[idOfChild];\n            // it's possible there is a new Column with the same ID, but it's for a different Column.\n            // this is common with pivoting, where the pivot cols change, but the id's are still pivot_0,\n            // pivot_1 etc. so if new col but same ID, need to remove the old col here first as we are\n            // about to replace it in the this.headerComps map.\n            var previousCompForOldColumn = previousComp && previousComp.getColumn() != child;\n            if (previousCompForOldColumn) {\n                _this.destroyChildComponents([idOfChild]);\n                removeFromArray(compIdsToRemove, idOfChild);\n                previousComp = undefined;\n            }\n            if (previousComp) {\n                // already have comp for this column, so do nothing\n                removeFromArray(compIdsToRemove, idOfChild);\n            }\n            else {\n                // don't have comp, need to create one\n                var headerComp = _this.createHeaderComp(child);\n                _this.headerComps[idOfChild] = headerComp;\n                eParentContainer.appendChild(headerComp.getGui());\n            }\n            compIdsWanted.push(idOfChild);\n        });\n        // we want to keep columns that are focused, otherwise keyboard navigation breaks\n        var isFocusedAndDisplayed = function (colId) {\n            var wrapper = _this.headerComps[colId];\n            var isFocused = _this.focusService.isHeaderWrapperFocused(wrapper);\n            if (!isFocused) {\n                return false;\n            }\n            var isDisplayed = _this.columnModel.isDisplayed(wrapper.getColumn());\n            return isDisplayed;\n        };\n        var focusedAndDisplayedComps = compIdsToRemove.filter(isFocusedAndDisplayed);\n        focusedAndDisplayedComps.forEach(function (colId) {\n            removeFromArray(compIdsToRemove, colId);\n            compIdsWanted.push(colId);\n        });\n        // at this point, anything left in currentChildIds is an element that is no longer in the viewport\n        this.destroyChildComponents(compIdsToRemove);\n        var ensureDomOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n        if (ensureDomOrder) {\n            var correctChildOrder = compIdsWanted.map(function (id) { return _this.headerComps[id].getGui(); });\n            setDomChildOrder(this.getGui(), correctChildOrder);\n        }\n    };\n    HeaderRowComp.prototype.createHeaderComp = function (columnGroupChild) {\n        var result;\n        switch (this.type) {\n            case HeaderRowType.COLUMN_GROUP:\n                result = new HeaderGroupWrapperComp(columnGroupChild, this.pinned);\n                break;\n            case HeaderRowType.FLOATING_FILTER:\n                result = new FloatingFilterWrapper(columnGroupChild, this.pinned);\n                break;\n            default:\n                result = new HeaderWrapperComp(columnGroupChild, this.pinned);\n                break;\n        }\n        this.createBean(result);\n        result.setParentComponent(this);\n        return result;\n    };\n    HeaderRowComp.prototype.getHeaderComps = function () {\n        return this.headerComps;\n    };\n    __decorate([\n        Autowired('columnModel')\n    ], HeaderRowComp.prototype, \"columnModel\", void 0);\n    __decorate([\n        Autowired('focusService')\n    ], HeaderRowComp.prototype, \"focusService\", void 0);\n    __decorate([\n        PreDestroy\n    ], HeaderRowComp.prototype, \"destroyAllChildComponents\", null);\n    __decorate([\n        PostConstruct\n    ], HeaderRowComp.prototype, \"init\", null);\n    return HeaderRowComp;\n}(Component));\nexport { HeaderRowComp };\n"]},"metadata":{},"sourceType":"module"}