{"ast":null,"code":"/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Component } from \"../../widgets/component\";\nimport { addStylesToElement, setDomChildOrder } from \"../../utils/dom\";\nimport { RowType } from \"./rowCtrl\";\nimport { CellComp } from \"../cell/cellComp\";\nimport { assign, getAllValuesInObject } from \"../../utils/object\";\nimport { setAriaExpanded as _setAriaExpanded, setAriaRowIndex as _setAriaRowIndex, setAriaSelected as _setAriaSelected } from \"../../utils/aria\";\n\nvar RowComp = function (_super) {\n  __extends(RowComp, _super);\n\n  function RowComp(ctrl, beans, pinned) {\n    var _this = _super.call(this) || this;\n\n    _this.cellComps = {};\n    _this.beans = beans;\n    _this.rowCtrl = ctrl;\n\n    _this.setTemplate(\n    /* html */\n    \"<div comp-id=\\\"\" + _this.getCompId() + \"\\\" style=\\\"\" + _this.getInitialStyle() + \"\\\"/>\");\n\n    var eGui = _this.getGui();\n\n    var style = eGui.style;\n    var compProxy = {\n      setDisplay: function setDisplay(value) {\n        return style.display = value == null ? null : 'none';\n      },\n      setDomOrder: function setDomOrder(domOrder) {\n        return _this.domOrder = domOrder;\n      },\n      setCellCtrls: function setCellCtrls(cellCtrls) {\n        return _this.setCellCtrls(cellCtrls);\n      },\n      showFullWidth: function showFullWidth(compDetails) {\n        return _this.showFullWidth(compDetails);\n      },\n      getFullWidthCellRenderer: function getFullWidthCellRenderer() {\n        return _this.getFullWidthCellRenderer();\n      },\n      addOrRemoveCssClass: function addOrRemoveCssClass(name, on) {\n        return _this.addOrRemoveCssClass(name, on);\n      },\n      setAriaExpanded: function setAriaExpanded(on) {\n        return _setAriaExpanded(eGui, on);\n      },\n      setUserStyles: function setUserStyles(styles) {\n        return addStylesToElement(eGui, styles);\n      },\n      setAriaSelected: function setAriaSelected(value) {\n        return _setAriaSelected(eGui, value);\n      },\n      setAriaLabel: function setAriaLabel(value) {\n        if (value == null) {\n          eGui.removeAttribute('aria-label');\n        } else {\n          eGui.setAttribute('aria-label', value);\n        }\n      },\n      setHeight: function setHeight(height) {\n        return style.height = height;\n      },\n      setTop: function setTop(top) {\n        return style.top = top;\n      },\n      setTransform: function setTransform(transform) {\n        return style.transform = transform;\n      },\n      setRowIndex: function setRowIndex(rowIndex) {\n        return eGui.setAttribute('row-index', rowIndex);\n      },\n      setRole: function setRole(role) {\n        return eGui.setAttribute('role', role);\n      },\n      setAriaRowIndex: function setAriaRowIndex(rowIndex) {\n        return _setAriaRowIndex(_this.getGui(), rowIndex);\n      },\n      setRowId: function setRowId(rowId) {\n        return eGui.setAttribute('row-id', rowId);\n      },\n      setRowBusinessKey: function setRowBusinessKey(businessKey) {\n        return eGui.setAttribute('row-business-key', businessKey);\n      },\n      setTabIndex: function setTabIndex(tabIndex) {\n        return eGui.setAttribute('tabindex', tabIndex.toString());\n      }\n    };\n    ctrl.setComp(compProxy, _this.getGui(), pinned);\n    return _this;\n  }\n\n  RowComp.prototype.getInitialStyle = function () {\n    var transform = this.rowCtrl.getInitialTransform();\n    var top = this.rowCtrl.getInitialRowTop();\n    return transform ? \"transform: \" + transform : \"top: \" + top;\n  };\n\n  RowComp.prototype.showFullWidth = function (compDetails) {\n    var _this = this;\n\n    var callback = function callback(cellRenderer) {\n      if (_this.isAlive()) {\n        var eGui = cellRenderer.getGui();\n\n        _this.getGui().appendChild(eGui);\n\n        if (_this.rowCtrl.getRowType() === RowType.FullWidthDetail) {\n          _this.rowCtrl.setupDetailRowAutoHeight(eGui);\n        }\n\n        _this.setFullWidthRowComp(cellRenderer);\n      } else {\n        _this.beans.context.destroyBean(cellRenderer);\n      }\n    }; // if not in cache, create new one\n\n\n    var res = this.beans.userComponentFactory.createFullWidthCellRenderer(compDetails, this.rowCtrl.getFullWidthCellRendererType());\n\n    if (!res) {\n      return;\n    }\n\n    res.then(callback);\n  };\n\n  RowComp.prototype.setCellCtrls = function (cellCtrls) {\n    var _this = this;\n\n    var cellsToRemove = assign({}, this.cellComps);\n    cellCtrls.forEach(function (cellCtrl) {\n      var key = cellCtrl.getInstanceId();\n      var existingCellComp = _this.cellComps[key];\n\n      if (existingCellComp == null) {\n        _this.newCellComp(cellCtrl);\n      } else {\n        cellsToRemove[key] = null;\n      }\n    });\n    var cellCompsToRemove = getAllValuesInObject(cellsToRemove).filter(function (cellComp) {\n      return cellComp != null;\n    });\n    this.destroyCells(cellCompsToRemove);\n    this.ensureDomOrder(cellCtrls);\n  };\n\n  RowComp.prototype.ensureDomOrder = function (cellCtrls) {\n    var _this = this;\n\n    if (!this.domOrder) {\n      return;\n    }\n\n    var elementsInOrder = [];\n    cellCtrls.forEach(function (cellCtrl) {\n      var cellComp = _this.cellComps[cellCtrl.getInstanceId()];\n\n      if (cellComp) {\n        elementsInOrder.push(cellComp.getGui());\n      }\n    });\n    setDomChildOrder(this.getGui(), elementsInOrder);\n  };\n\n  RowComp.prototype.newCellComp = function (cellCtrl) {\n    var cellComp = new CellComp(this.rowCtrl.getScope(), this.beans, cellCtrl, false, this.rowCtrl.isPrintLayout(), this.getGui(), this.rowCtrl.isEditing());\n    this.cellComps[cellCtrl.getInstanceId()] = cellComp;\n    this.getGui().appendChild(cellComp.getGui());\n  };\n\n  RowComp.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.destroyAllCells();\n  };\n\n  RowComp.prototype.destroyAllCells = function () {\n    var cellsToDestroy = getAllValuesInObject(this.cellComps).filter(function (cp) {\n      return cp != null;\n    });\n    this.destroyCells(cellsToDestroy);\n  };\n\n  RowComp.prototype.setFullWidthRowComp = function (fullWidthRowComponent) {\n    var _this = this;\n\n    if (this.fullWidthCellRenderer) {\n      console.error('AG Grid - should not be setting fullWidthRowComponent twice');\n    }\n\n    this.fullWidthCellRenderer = fullWidthRowComponent;\n    this.addDestroyFunc(function () {\n      _this.fullWidthCellRenderer = _this.beans.context.destroyBean(_this.fullWidthCellRenderer);\n    });\n  };\n\n  RowComp.prototype.getFullWidthCellRenderer = function () {\n    return this.fullWidthCellRenderer;\n  };\n\n  RowComp.prototype.destroyCells = function (cellComps) {\n    var _this = this;\n\n    cellComps.forEach(function (cellComp) {\n      // could be old reference, ie removed cell\n      if (!cellComp) {\n        return;\n      } // check cellComp belongs in this container\n\n\n      var instanceId = cellComp.getCtrl().getInstanceId();\n\n      if (_this.cellComps[instanceId] !== cellComp) {\n        return;\n      }\n\n      cellComp.detach();\n      cellComp.destroy();\n      _this.cellComps[instanceId] = null;\n    });\n  };\n\n  return RowComp;\n}(Component);\n\nexport { RowComp };","map":{"version":3,"sources":["C:/dev/streamlit-aggrid/st_aggrid/frontend/node_modules/@ag-grid-community/core/dist/es6/rendering/row/rowComp.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Component","addStylesToElement","setDomChildOrder","RowType","CellComp","assign","getAllValuesInObject","setAriaExpanded","setAriaRowIndex","setAriaSelected","RowComp","_super","ctrl","beans","pinned","_this","call","cellComps","rowCtrl","setTemplate","getCompId","getInitialStyle","eGui","getGui","style","compProxy","setDisplay","value","display","setDomOrder","domOrder","setCellCtrls","cellCtrls","showFullWidth","compDetails","getFullWidthCellRenderer","addOrRemoveCssClass","name","on","setUserStyles","styles","setAriaLabel","removeAttribute","setAttribute","setHeight","height","setTop","top","setTransform","transform","setRowIndex","rowIndex","setRole","role","setRowId","rowId","setRowBusinessKey","businessKey","setTabIndex","tabIndex","toString","setComp","getInitialTransform","getInitialRowTop","callback","cellRenderer","isAlive","appendChild","getRowType","FullWidthDetail","setupDetailRowAutoHeight","setFullWidthRowComp","context","destroyBean","res","userComponentFactory","createFullWidthCellRenderer","getFullWidthCellRendererType","then","cellsToRemove","forEach","cellCtrl","key","getInstanceId","existingCellComp","newCellComp","cellCompsToRemove","filter","cellComp","destroyCells","ensureDomOrder","elementsInOrder","push","getScope","isPrintLayout","isEditing","destroy","destroyAllCells","cellsToDestroy","cp","fullWidthRowComponent","fullWidthCellRenderer","console","error","addDestroyFunc","instanceId","getCtrl","detach"],"mappings":"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","sourcesContent":["/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v26.0.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component } from \"../../widgets/component\";\nimport { addStylesToElement, setDomChildOrder } from \"../../utils/dom\";\nimport { RowType } from \"./rowCtrl\";\nimport { CellComp } from \"../cell/cellComp\";\nimport { assign, getAllValuesInObject } from \"../../utils/object\";\nimport { setAriaExpanded, setAriaRowIndex, setAriaSelected } from \"../../utils/aria\";\nvar RowComp = /** @class */ (function (_super) {\n    __extends(RowComp, _super);\n    function RowComp(ctrl, beans, pinned) {\n        var _this = _super.call(this) || this;\n        _this.cellComps = {};\n        _this.beans = beans;\n        _this.rowCtrl = ctrl;\n        _this.setTemplate(/* html */ \"<div comp-id=\\\"\" + _this.getCompId() + \"\\\" style=\\\"\" + _this.getInitialStyle() + \"\\\"/>\");\n        var eGui = _this.getGui();\n        var style = eGui.style;\n        var compProxy = {\n            setDisplay: function (value) { return style.display = value == null ? null : 'none'; },\n            setDomOrder: function (domOrder) { return _this.domOrder = domOrder; },\n            setCellCtrls: function (cellCtrls) { return _this.setCellCtrls(cellCtrls); },\n            showFullWidth: function (compDetails) { return _this.showFullWidth(compDetails); },\n            getFullWidthCellRenderer: function () { return _this.getFullWidthCellRenderer(); },\n            addOrRemoveCssClass: function (name, on) { return _this.addOrRemoveCssClass(name, on); },\n            setAriaExpanded: function (on) { return setAriaExpanded(eGui, on); },\n            setUserStyles: function (styles) { return addStylesToElement(eGui, styles); },\n            setAriaSelected: function (value) { return setAriaSelected(eGui, value); },\n            setAriaLabel: function (value) {\n                if (value == null) {\n                    eGui.removeAttribute('aria-label');\n                }\n                else {\n                    eGui.setAttribute('aria-label', value);\n                }\n            },\n            setHeight: function (height) { return style.height = height; },\n            setTop: function (top) { return style.top = top; },\n            setTransform: function (transform) { return style.transform = transform; },\n            setRowIndex: function (rowIndex) { return eGui.setAttribute('row-index', rowIndex); },\n            setRole: function (role) { return eGui.setAttribute('role', role); },\n            setAriaRowIndex: function (rowIndex) { return setAriaRowIndex(_this.getGui(), rowIndex); },\n            setRowId: function (rowId) { return eGui.setAttribute('row-id', rowId); },\n            setRowBusinessKey: function (businessKey) { return eGui.setAttribute('row-business-key', businessKey); },\n            setTabIndex: function (tabIndex) { return eGui.setAttribute('tabindex', tabIndex.toString()); }\n        };\n        ctrl.setComp(compProxy, _this.getGui(), pinned);\n        return _this;\n    }\n    RowComp.prototype.getInitialStyle = function () {\n        var transform = this.rowCtrl.getInitialTransform();\n        var top = this.rowCtrl.getInitialRowTop();\n        return transform ? \"transform: \" + transform : \"top: \" + top;\n    };\n    RowComp.prototype.showFullWidth = function (compDetails) {\n        var _this = this;\n        var callback = function (cellRenderer) {\n            if (_this.isAlive()) {\n                var eGui = cellRenderer.getGui();\n                _this.getGui().appendChild(eGui);\n                if (_this.rowCtrl.getRowType() === RowType.FullWidthDetail) {\n                    _this.rowCtrl.setupDetailRowAutoHeight(eGui);\n                }\n                _this.setFullWidthRowComp(cellRenderer);\n            }\n            else {\n                _this.beans.context.destroyBean(cellRenderer);\n            }\n        };\n        // if not in cache, create new one\n        var res = this.beans.userComponentFactory.createFullWidthCellRenderer(compDetails, this.rowCtrl.getFullWidthCellRendererType());\n        if (!res) {\n            return;\n        }\n        res.then(callback);\n    };\n    RowComp.prototype.setCellCtrls = function (cellCtrls) {\n        var _this = this;\n        var cellsToRemove = assign({}, this.cellComps);\n        cellCtrls.forEach(function (cellCtrl) {\n            var key = cellCtrl.getInstanceId();\n            var existingCellComp = _this.cellComps[key];\n            if (existingCellComp == null) {\n                _this.newCellComp(cellCtrl);\n            }\n            else {\n                cellsToRemove[key] = null;\n            }\n        });\n        var cellCompsToRemove = getAllValuesInObject(cellsToRemove)\n            .filter(function (cellComp) { return cellComp != null; });\n        this.destroyCells(cellCompsToRemove);\n        this.ensureDomOrder(cellCtrls);\n    };\n    RowComp.prototype.ensureDomOrder = function (cellCtrls) {\n        var _this = this;\n        if (!this.domOrder) {\n            return;\n        }\n        var elementsInOrder = [];\n        cellCtrls.forEach(function (cellCtrl) {\n            var cellComp = _this.cellComps[cellCtrl.getInstanceId()];\n            if (cellComp) {\n                elementsInOrder.push(cellComp.getGui());\n            }\n        });\n        setDomChildOrder(this.getGui(), elementsInOrder);\n    };\n    RowComp.prototype.newCellComp = function (cellCtrl) {\n        var cellComp = new CellComp(this.rowCtrl.getScope(), this.beans, cellCtrl, false, this.rowCtrl.isPrintLayout(), this.getGui(), this.rowCtrl.isEditing());\n        this.cellComps[cellCtrl.getInstanceId()] = cellComp;\n        this.getGui().appendChild(cellComp.getGui());\n    };\n    RowComp.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.destroyAllCells();\n    };\n    RowComp.prototype.destroyAllCells = function () {\n        var cellsToDestroy = getAllValuesInObject(this.cellComps).filter(function (cp) { return cp != null; });\n        this.destroyCells(cellsToDestroy);\n    };\n    RowComp.prototype.setFullWidthRowComp = function (fullWidthRowComponent) {\n        var _this = this;\n        if (this.fullWidthCellRenderer) {\n            console.error('AG Grid - should not be setting fullWidthRowComponent twice');\n        }\n        this.fullWidthCellRenderer = fullWidthRowComponent;\n        this.addDestroyFunc(function () {\n            _this.fullWidthCellRenderer = _this.beans.context.destroyBean(_this.fullWidthCellRenderer);\n        });\n    };\n    RowComp.prototype.getFullWidthCellRenderer = function () {\n        return this.fullWidthCellRenderer;\n    };\n    RowComp.prototype.destroyCells = function (cellComps) {\n        var _this = this;\n        cellComps.forEach(function (cellComp) {\n            // could be old reference, ie removed cell\n            if (!cellComp) {\n                return;\n            }\n            // check cellComp belongs in this container\n            var instanceId = cellComp.getCtrl().getInstanceId();\n            if (_this.cellComps[instanceId] !== cellComp) {\n                return;\n            }\n            cellComp.detach();\n            cellComp.destroy();\n            _this.cellComps[instanceId] = null;\n        });\n    };\n    return RowComp;\n}(Component));\nexport { RowComp };\n"]},"metadata":{},"sourceType":"module"}