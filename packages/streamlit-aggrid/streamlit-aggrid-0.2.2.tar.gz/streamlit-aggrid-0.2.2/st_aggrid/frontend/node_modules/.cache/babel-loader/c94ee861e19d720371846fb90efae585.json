{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { _, AgGroupComponent, Autowired, Column, Component, Events, OriginalColumnGroup, PostConstruct, PreConstruct, RefSelector } from \"@ag-grid-community/core\";\nimport { ToolPanelFilterComp } from \"./toolPanelFilterComp\";\n\nvar ToolPanelFilterGroupComp = function (_super) {\n  __extends(ToolPanelFilterGroupComp, _super);\n\n  function ToolPanelFilterGroupComp(columnGroup, childFilterComps, expandedCallback, depth, showingColumn) {\n    var _this = _super.call(this) || this;\n\n    _this.columnGroup = columnGroup;\n    _this.childFilterComps = childFilterComps;\n    _this.depth = depth;\n    _this.expandedCallback = expandedCallback;\n    _this.showingColumn = showingColumn;\n    return _this;\n  }\n\n  ToolPanelFilterGroupComp.prototype.preConstruct = function () {\n    var groupParams = {\n      cssIdentifier: 'filter-toolpanel',\n      direction: 'vertical'\n    };\n    this.setTemplate(ToolPanelFilterGroupComp.TEMPLATE, {\n      filterGroupComp: groupParams\n    });\n  };\n\n  ToolPanelFilterGroupComp.prototype.init = function () {\n    var _this = this;\n\n    this.setGroupTitle();\n    this.filterGroupComp.setAlignItems('stretch');\n\n    _.addCssClass(this.filterGroupComp.getGui(), \"ag-filter-toolpanel-group-level-\" + this.depth);\n\n    this.filterGroupComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + this.depth + \"-header\");\n    this.childFilterComps.forEach(function (filterComp) {\n      _this.filterGroupComp.addItem(filterComp);\n\n      filterComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + (_this.depth + 1) + \"-header\");\n    });\n    this.addExpandCollapseListeners();\n    this.addFilterChangedListeners();\n    this.setupTooltip();\n  };\n\n  ToolPanelFilterGroupComp.prototype.setupTooltip = function () {\n    var _this = this; // we don't show tooltips for groups, as when the group expands, it's div contains the columns which also\n    // have tooltips, so the tooltips would clash. Eg mouse over group, tooltip shows, mouse over column, another\n    // tooltip shows but cos we didn't leave the group the group tooltip remains. this should be fixed in the future,\n    // maybe the group shouldn't contain the children form a DOM perspective.\n\n\n    if (!this.showingColumn) {\n      return;\n    }\n\n    var refresh = function refresh() {\n      var newTooltipText = _this.columnGroup.getColDef().headerTooltip;\n\n      _this.setTooltip(newTooltipText);\n    };\n\n    refresh();\n    this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, refresh);\n  };\n\n  ToolPanelFilterGroupComp.prototype.getTooltipParams = function () {\n    var res = _super.prototype.getTooltipParams.call(this);\n\n    res.location = 'filterToolPanelColumnGroup';\n    return res;\n  };\n\n  ToolPanelFilterGroupComp.prototype.addCssClassToTitleBar = function (cssClass) {\n    this.filterGroupComp.addCssClassToTitleBar(cssClass);\n  };\n\n  ToolPanelFilterGroupComp.prototype.refreshFilters = function () {\n    this.childFilterComps.forEach(function (filterComp) {\n      if (filterComp instanceof ToolPanelFilterGroupComp) {\n        filterComp.refreshFilters();\n      } else {\n        filterComp.refreshFilter();\n      }\n    });\n  };\n\n  ToolPanelFilterGroupComp.prototype.isColumnGroup = function () {\n    return this.columnGroup instanceof OriginalColumnGroup;\n  };\n\n  ToolPanelFilterGroupComp.prototype.isExpanded = function () {\n    return this.filterGroupComp.isExpanded();\n  };\n\n  ToolPanelFilterGroupComp.prototype.getChildren = function () {\n    return this.childFilterComps;\n  };\n\n  ToolPanelFilterGroupComp.prototype.getFilterGroupName = function () {\n    return this.filterGroupName ? this.filterGroupName : '';\n  };\n\n  ToolPanelFilterGroupComp.prototype.getFilterGroupId = function () {\n    return this.columnGroup.getId();\n  };\n\n  ToolPanelFilterGroupComp.prototype.hideGroupItem = function (hide, index) {\n    this.filterGroupComp.hideItem(hide, index);\n  };\n\n  ToolPanelFilterGroupComp.prototype.hideGroup = function (hide) {\n    _.addOrRemoveCssClass(this.getGui(), 'ag-hidden', hide);\n  };\n\n  ToolPanelFilterGroupComp.prototype.forEachToolPanelFilterChild = function (action) {\n    _.forEach(this.childFilterComps, function (filterComp) {\n      if (filterComp instanceof ToolPanelFilterComp) {\n        action(filterComp);\n      }\n    });\n  };\n\n  ToolPanelFilterGroupComp.prototype.addExpandCollapseListeners = function () {\n    var _this = this;\n\n    var expandListener = this.isColumnGroup() ? function () {\n      return _this.expandedCallback();\n    } : function () {\n      return _this.forEachToolPanelFilterChild(function (filterComp) {\n        return filterComp.expand();\n      });\n    };\n    var collapseListener = this.isColumnGroup() ? function () {\n      return _this.expandedCallback();\n    } : function () {\n      return _this.forEachToolPanelFilterChild(function (filterComp) {\n        return filterComp.collapse();\n      });\n    };\n    this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_EXPANDED, expandListener);\n    this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_COLLAPSED, collapseListener);\n  };\n\n  ToolPanelFilterGroupComp.prototype.addFilterChangedListeners = function () {\n    var _this = this;\n\n    if (this.columnGroup instanceof OriginalColumnGroup) {\n      var group_1 = this.columnGroup;\n\n      var anyChildFiltersActive_1 = function anyChildFiltersActive_1() {\n        return group_1.getLeafColumns().some(function (col) {\n          return col.isFilterActive();\n        });\n      };\n\n      group_1.getLeafColumns().forEach(function (column) {\n        _this.addManagedListener(column, Column.EVENT_FILTER_CHANGED, function () {\n          _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', anyChildFiltersActive_1());\n        });\n      });\n    } else {\n      var column_1 = this.columnGroup;\n      this.addManagedListener(this.eventService, Events.EVENT_FILTER_OPENED, this.onFilterOpened.bind(this));\n      this.addManagedListener(column_1, Column.EVENT_FILTER_CHANGED, function () {\n        _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', column_1.isFilterActive());\n      });\n    }\n  };\n\n  ToolPanelFilterGroupComp.prototype.onFilterOpened = function (event) {\n    // when a filter is opened elsewhere, i.e. column menu we close the filter comp so we also need to collapse\n    // the column group. This approach means we don't need to try and sync filter models on the same column.\n    if (event.source !== 'COLUMN_MENU') {\n      return;\n    }\n\n    if (event.column !== this.columnGroup) {\n      return;\n    }\n\n    if (!this.isExpanded()) {\n      return;\n    }\n\n    this.collapse();\n  };\n\n  ToolPanelFilterGroupComp.prototype.expand = function () {\n    this.filterGroupComp.toggleGroupExpand(true);\n  };\n\n  ToolPanelFilterGroupComp.prototype.collapse = function () {\n    this.filterGroupComp.toggleGroupExpand(false);\n  };\n\n  ToolPanelFilterGroupComp.prototype.setGroupTitle = function () {\n    this.filterGroupName = this.columnGroup instanceof OriginalColumnGroup ? this.getColumnGroupName(this.columnGroup) : this.getColumnName(this.columnGroup);\n    this.filterGroupComp.setTitle(this.filterGroupName || '');\n  };\n\n  ToolPanelFilterGroupComp.prototype.getColumnGroupName = function (columnGroup) {\n    return this.columnModel.getDisplayNameForOriginalColumnGroup(null, columnGroup, 'filterToolPanel');\n  };\n\n  ToolPanelFilterGroupComp.prototype.getColumnName = function (column) {\n    return this.columnModel.getDisplayNameForColumn(column, 'filterToolPanel', false);\n  };\n\n  ToolPanelFilterGroupComp.prototype.destroyFilters = function () {\n    this.childFilterComps = this.destroyBeans(this.childFilterComps);\n\n    _.clearElement(this.getGui());\n  };\n\n  ToolPanelFilterGroupComp.prototype.destroy = function () {\n    this.destroyFilters();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  ToolPanelFilterGroupComp.TEMPLATE = \"<div class=\\\"ag-filter-toolpanel-group-wrapper\\\">\\n            <ag-group-component ref=\\\"filterGroupComp\\\"></ag-group-component>\\n        </div>\";\n\n  __decorate([RefSelector('filterGroupComp')], ToolPanelFilterGroupComp.prototype, \"filterGroupComp\", void 0);\n\n  __decorate([Autowired('columnModel')], ToolPanelFilterGroupComp.prototype, \"columnModel\", void 0);\n\n  __decorate([PreConstruct], ToolPanelFilterGroupComp.prototype, \"preConstruct\", null);\n\n  __decorate([PostConstruct], ToolPanelFilterGroupComp.prototype, \"init\", null);\n\n  return ToolPanelFilterGroupComp;\n}(Component);\n\nexport { ToolPanelFilterGroupComp };","map":{"version":3,"sources":["C:/dev/streamlit-aggrid/st_aggrid/frontend/node_modules/@ag-grid-enterprise/filter-tool-panel/dist/es6/filterToolPanel/toolPanelFilterGroupComp.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","_","AgGroupComponent","Autowired","Column","Component","Events","OriginalColumnGroup","PostConstruct","PreConstruct","RefSelector","ToolPanelFilterComp","ToolPanelFilterGroupComp","_super","columnGroup","childFilterComps","expandedCallback","depth","showingColumn","_this","call","preConstruct","groupParams","cssIdentifier","direction","setTemplate","TEMPLATE","filterGroupComp","init","setGroupTitle","setAlignItems","addCssClass","getGui","addCssClassToTitleBar","forEach","filterComp","addItem","addExpandCollapseListeners","addFilterChangedListeners","setupTooltip","refresh","newTooltipText","getColDef","headerTooltip","setTooltip","addManagedListener","eventService","EVENT_NEW_COLUMNS_LOADED","getTooltipParams","res","location","cssClass","refreshFilters","refreshFilter","isColumnGroup","isExpanded","getChildren","getFilterGroupName","filterGroupName","getFilterGroupId","getId","hideGroupItem","hide","index","hideItem","hideGroup","addOrRemoveCssClass","forEachToolPanelFilterChild","action","expandListener","expand","collapseListener","collapse","EVENT_EXPANDED","EVENT_COLLAPSED","group_1","anyChildFiltersActive_1","getLeafColumns","some","col","isFilterActive","column","EVENT_FILTER_CHANGED","column_1","EVENT_FILTER_OPENED","onFilterOpened","bind","event","source","toggleGroupExpand","getColumnGroupName","getColumnName","setTitle","columnModel","getDisplayNameForOriginalColumnGroup","getDisplayNameForColumn","destroyFilters","destroyBeans","clearElement","destroy"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, AgGroupComponent, Autowired, Column, Component, Events, OriginalColumnGroup, PostConstruct, PreConstruct, RefSelector } from \"@ag-grid-community/core\";\nimport { ToolPanelFilterComp } from \"./toolPanelFilterComp\";\nvar ToolPanelFilterGroupComp = /** @class */ (function (_super) {\n    __extends(ToolPanelFilterGroupComp, _super);\n    function ToolPanelFilterGroupComp(columnGroup, childFilterComps, expandedCallback, depth, showingColumn) {\n        var _this = _super.call(this) || this;\n        _this.columnGroup = columnGroup;\n        _this.childFilterComps = childFilterComps;\n        _this.depth = depth;\n        _this.expandedCallback = expandedCallback;\n        _this.showingColumn = showingColumn;\n        return _this;\n    }\n    ToolPanelFilterGroupComp.prototype.preConstruct = function () {\n        var groupParams = {\n            cssIdentifier: 'filter-toolpanel',\n            direction: 'vertical'\n        };\n        this.setTemplate(ToolPanelFilterGroupComp.TEMPLATE, { filterGroupComp: groupParams });\n    };\n    ToolPanelFilterGroupComp.prototype.init = function () {\n        var _this = this;\n        this.setGroupTitle();\n        this.filterGroupComp.setAlignItems('stretch');\n        _.addCssClass(this.filterGroupComp.getGui(), \"ag-filter-toolpanel-group-level-\" + this.depth);\n        this.filterGroupComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + this.depth + \"-header\");\n        this.childFilterComps.forEach(function (filterComp) {\n            _this.filterGroupComp.addItem(filterComp);\n            filterComp.addCssClassToTitleBar(\"ag-filter-toolpanel-group-level-\" + (_this.depth + 1) + \"-header\");\n        });\n        this.addExpandCollapseListeners();\n        this.addFilterChangedListeners();\n        this.setupTooltip();\n    };\n    ToolPanelFilterGroupComp.prototype.setupTooltip = function () {\n        var _this = this;\n        // we don't show tooltips for groups, as when the group expands, it's div contains the columns which also\n        // have tooltips, so the tooltips would clash. Eg mouse over group, tooltip shows, mouse over column, another\n        // tooltip shows but cos we didn't leave the group the group tooltip remains. this should be fixed in the future,\n        // maybe the group shouldn't contain the children form a DOM perspective.\n        if (!this.showingColumn) {\n            return;\n        }\n        var refresh = function () {\n            var newTooltipText = _this.columnGroup.getColDef().headerTooltip;\n            _this.setTooltip(newTooltipText);\n        };\n        refresh();\n        this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, refresh);\n    };\n    ToolPanelFilterGroupComp.prototype.getTooltipParams = function () {\n        var res = _super.prototype.getTooltipParams.call(this);\n        res.location = 'filterToolPanelColumnGroup';\n        return res;\n    };\n    ToolPanelFilterGroupComp.prototype.addCssClassToTitleBar = function (cssClass) {\n        this.filterGroupComp.addCssClassToTitleBar(cssClass);\n    };\n    ToolPanelFilterGroupComp.prototype.refreshFilters = function () {\n        this.childFilterComps.forEach(function (filterComp) {\n            if (filterComp instanceof ToolPanelFilterGroupComp) {\n                filterComp.refreshFilters();\n            }\n            else {\n                filterComp.refreshFilter();\n            }\n        });\n    };\n    ToolPanelFilterGroupComp.prototype.isColumnGroup = function () {\n        return this.columnGroup instanceof OriginalColumnGroup;\n    };\n    ToolPanelFilterGroupComp.prototype.isExpanded = function () {\n        return this.filterGroupComp.isExpanded();\n    };\n    ToolPanelFilterGroupComp.prototype.getChildren = function () {\n        return this.childFilterComps;\n    };\n    ToolPanelFilterGroupComp.prototype.getFilterGroupName = function () {\n        return this.filterGroupName ? this.filterGroupName : '';\n    };\n    ToolPanelFilterGroupComp.prototype.getFilterGroupId = function () {\n        return this.columnGroup.getId();\n    };\n    ToolPanelFilterGroupComp.prototype.hideGroupItem = function (hide, index) {\n        this.filterGroupComp.hideItem(hide, index);\n    };\n    ToolPanelFilterGroupComp.prototype.hideGroup = function (hide) {\n        _.addOrRemoveCssClass(this.getGui(), 'ag-hidden', hide);\n    };\n    ToolPanelFilterGroupComp.prototype.forEachToolPanelFilterChild = function (action) {\n        _.forEach(this.childFilterComps, function (filterComp) {\n            if (filterComp instanceof ToolPanelFilterComp) {\n                action(filterComp);\n            }\n        });\n    };\n    ToolPanelFilterGroupComp.prototype.addExpandCollapseListeners = function () {\n        var _this = this;\n        var expandListener = this.isColumnGroup() ?\n            function () { return _this.expandedCallback(); } :\n            function () { return _this.forEachToolPanelFilterChild(function (filterComp) { return filterComp.expand(); }); };\n        var collapseListener = this.isColumnGroup() ?\n            function () { return _this.expandedCallback(); } :\n            function () { return _this.forEachToolPanelFilterChild(function (filterComp) { return filterComp.collapse(); }); };\n        this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_EXPANDED, expandListener);\n        this.addManagedListener(this.filterGroupComp, AgGroupComponent.EVENT_COLLAPSED, collapseListener);\n    };\n    ToolPanelFilterGroupComp.prototype.addFilterChangedListeners = function () {\n        var _this = this;\n        if (this.columnGroup instanceof OriginalColumnGroup) {\n            var group_1 = this.columnGroup;\n            var anyChildFiltersActive_1 = function () { return group_1.getLeafColumns().some(function (col) { return col.isFilterActive(); }); };\n            group_1.getLeafColumns().forEach(function (column) {\n                _this.addManagedListener(column, Column.EVENT_FILTER_CHANGED, function () {\n                    _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', anyChildFiltersActive_1());\n                });\n            });\n        }\n        else {\n            var column_1 = this.columnGroup;\n            this.addManagedListener(this.eventService, Events.EVENT_FILTER_OPENED, this.onFilterOpened.bind(this));\n            this.addManagedListener(column_1, Column.EVENT_FILTER_CHANGED, function () {\n                _.addOrRemoveCssClass(_this.filterGroupComp.getGui(), 'ag-has-filter', column_1.isFilterActive());\n            });\n        }\n    };\n    ToolPanelFilterGroupComp.prototype.onFilterOpened = function (event) {\n        // when a filter is opened elsewhere, i.e. column menu we close the filter comp so we also need to collapse\n        // the column group. This approach means we don't need to try and sync filter models on the same column.\n        if (event.source !== 'COLUMN_MENU') {\n            return;\n        }\n        if (event.column !== this.columnGroup) {\n            return;\n        }\n        if (!this.isExpanded()) {\n            return;\n        }\n        this.collapse();\n    };\n    ToolPanelFilterGroupComp.prototype.expand = function () {\n        this.filterGroupComp.toggleGroupExpand(true);\n    };\n    ToolPanelFilterGroupComp.prototype.collapse = function () {\n        this.filterGroupComp.toggleGroupExpand(false);\n    };\n    ToolPanelFilterGroupComp.prototype.setGroupTitle = function () {\n        this.filterGroupName = (this.columnGroup instanceof OriginalColumnGroup) ?\n            this.getColumnGroupName(this.columnGroup) : this.getColumnName(this.columnGroup);\n        this.filterGroupComp.setTitle(this.filterGroupName || '');\n    };\n    ToolPanelFilterGroupComp.prototype.getColumnGroupName = function (columnGroup) {\n        return this.columnModel.getDisplayNameForOriginalColumnGroup(null, columnGroup, 'filterToolPanel');\n    };\n    ToolPanelFilterGroupComp.prototype.getColumnName = function (column) {\n        return this.columnModel.getDisplayNameForColumn(column, 'filterToolPanel', false);\n    };\n    ToolPanelFilterGroupComp.prototype.destroyFilters = function () {\n        this.childFilterComps = this.destroyBeans(this.childFilterComps);\n        _.clearElement(this.getGui());\n    };\n    ToolPanelFilterGroupComp.prototype.destroy = function () {\n        this.destroyFilters();\n        _super.prototype.destroy.call(this);\n    };\n    ToolPanelFilterGroupComp.TEMPLATE = \"<div class=\\\"ag-filter-toolpanel-group-wrapper\\\">\\n            <ag-group-component ref=\\\"filterGroupComp\\\"></ag-group-component>\\n        </div>\";\n    __decorate([\n        RefSelector('filterGroupComp')\n    ], ToolPanelFilterGroupComp.prototype, \"filterGroupComp\", void 0);\n    __decorate([\n        Autowired('columnModel')\n    ], ToolPanelFilterGroupComp.prototype, \"columnModel\", void 0);\n    __decorate([\n        PreConstruct\n    ], ToolPanelFilterGroupComp.prototype, \"preConstruct\", null);\n    __decorate([\n        PostConstruct\n    ], ToolPanelFilterGroupComp.prototype, \"init\", null);\n    return ToolPanelFilterGroupComp;\n}(Component));\nexport { ToolPanelFilterGroupComp };\n"]},"metadata":{},"sourceType":"module"}