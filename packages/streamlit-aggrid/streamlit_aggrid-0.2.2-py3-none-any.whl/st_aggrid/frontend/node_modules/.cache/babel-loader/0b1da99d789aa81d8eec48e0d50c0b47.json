{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { _, Autowired, Events, RefSelector, KeyCode, PostConstruct, Component } from \"@ag-grid-community/core\";\nexport var ExpandState;\n\n(function (ExpandState) {\n  ExpandState[ExpandState[\"EXPANDED\"] = 0] = \"EXPANDED\";\n  ExpandState[ExpandState[\"COLLAPSED\"] = 1] = \"COLLAPSED\";\n  ExpandState[ExpandState[\"INDETERMINATE\"] = 2] = \"INDETERMINATE\";\n})(ExpandState || (ExpandState = {}));\n\nvar PrimaryColsHeaderPanel = function (_super) {\n  __extends(PrimaryColsHeaderPanel, _super);\n\n  function PrimaryColsHeaderPanel() {\n    return _super.call(this, PrimaryColsHeaderPanel.TEMPLATE) || this;\n  }\n\n  PrimaryColsHeaderPanel.prototype.postConstruct = function () {\n    var _this = this;\n\n    this.createExpandIcons();\n    this.addManagedListener(this.eExpand, 'click', this.onExpandClicked.bind(this));\n    this.addManagedListener(this.eExpand, 'keydown', function (e) {\n      if (e.keyCode === KeyCode.SPACE) {\n        _this.onExpandClicked();\n      }\n    });\n    this.addManagedListener(this.eSelect.getInputElement(), 'click', this.onSelectClicked.bind(this));\n    this.eFilterTextField.onValueChange(function () {\n      return _this.onFilterTextChanged();\n    });\n    this.addManagedListener(this.eFilterTextField.getInputElement(), 'keypress', this.onMiniFilterKeyPress.bind(this));\n    this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, this.showOrHideOptions.bind(this));\n    var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n    this.eSelect.setInputAriaLabel(translate('ariaColumnSelectAll', 'Toggle Select All Columns'));\n    this.eFilterTextField.setInputAriaLabel(translate('ariaFilterColumnsInput', 'Filter Columns Input'));\n  };\n\n  PrimaryColsHeaderPanel.prototype.init = function (params) {\n    this.params = params;\n\n    if (this.columnModel.isReady()) {\n      this.showOrHideOptions();\n    }\n  };\n\n  PrimaryColsHeaderPanel.prototype.createExpandIcons = function () {\n    this.eExpand.appendChild(this.eExpandChecked = _.createIconNoSpan('columnSelectOpen', this.gridOptionsWrapper));\n    this.eExpand.appendChild(this.eExpandUnchecked = _.createIconNoSpan('columnSelectClosed', this.gridOptionsWrapper));\n    this.eExpand.appendChild(this.eExpandIndeterminate = _.createIconNoSpan('columnSelectIndeterminate', this.gridOptionsWrapper));\n    this.setExpandState(ExpandState.EXPANDED);\n  }; // we only show expand / collapse if we are showing columns\n\n\n  PrimaryColsHeaderPanel.prototype.showOrHideOptions = function () {\n    var showFilter = !this.params.suppressColumnFilter;\n    var showSelect = !this.params.suppressColumnSelectAll;\n    var showExpand = !this.params.suppressColumnExpandAll;\n    var groupsPresent = this.columnModel.isPrimaryColumnGroupsPresent();\n    var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n    this.eFilterTextField.setInputPlaceholder(translate('searchOoo', 'Search...'));\n\n    _.setDisplayed(this.eFilterTextField.getGui(), showFilter);\n\n    _.setDisplayed(this.eSelect.getGui(), showSelect);\n\n    _.setDisplayed(this.eExpand, showExpand && groupsPresent);\n  };\n\n  PrimaryColsHeaderPanel.prototype.onFilterTextChanged = function () {\n    var _this = this;\n\n    if (!this.onFilterTextChangedDebounced) {\n      this.onFilterTextChangedDebounced = _.debounce(function () {\n        var filterText = _this.eFilterTextField.getValue();\n\n        _this.dispatchEvent({\n          type: \"filterChanged\",\n          filterText: filterText\n        });\n      }, PrimaryColsHeaderPanel.DEBOUNCE_DELAY);\n    }\n\n    this.onFilterTextChangedDebounced();\n  };\n\n  PrimaryColsHeaderPanel.prototype.onMiniFilterKeyPress = function (e) {\n    var _this = this;\n\n    if (_.isKeyPressed(e, KeyCode.ENTER)) {\n      // we need to add a delay that corresponds to the filter text debounce delay to ensure\n      // the text filtering has happened, otherwise all columns will be deselected\n      setTimeout(function () {\n        return _this.onSelectClicked();\n      }, PrimaryColsHeaderPanel.DEBOUNCE_DELAY);\n    }\n  };\n\n  PrimaryColsHeaderPanel.prototype.onSelectClicked = function () {\n    this.dispatchEvent({\n      type: this.selectState ? 'unselectAll' : 'selectAll'\n    });\n  };\n\n  PrimaryColsHeaderPanel.prototype.onExpandClicked = function () {\n    this.dispatchEvent({\n      type: this.expandState === ExpandState.EXPANDED ? 'collapseAll' : 'expandAll'\n    });\n  };\n\n  PrimaryColsHeaderPanel.prototype.setExpandState = function (state) {\n    this.expandState = state;\n\n    _.setDisplayed(this.eExpandChecked, this.expandState === ExpandState.EXPANDED);\n\n    _.setDisplayed(this.eExpandUnchecked, this.expandState === ExpandState.COLLAPSED);\n\n    _.setDisplayed(this.eExpandIndeterminate, this.expandState === ExpandState.INDETERMINATE);\n  };\n\n  PrimaryColsHeaderPanel.prototype.setSelectionState = function (state) {\n    this.selectState = state;\n    this.eSelect.setValue(this.selectState);\n  };\n\n  PrimaryColsHeaderPanel.DEBOUNCE_DELAY = 300;\n  PrimaryColsHeaderPanel.TEMPLATE = \"<div class=\\\"ag-column-select-header\\\" role=\\\"presentation\\\" tabindex=\\\"-1\\\">\\n            <div ref=\\\"eExpand\\\" class=\\\"ag-column-select-header-icon\\\" tabindex=\\\"0\\\"></div>\\n            <ag-checkbox ref=\\\"eSelect\\\" class=\\\"ag-column-select-header-checkbox\\\"></ag-checkbox>\\n            <ag-input-text-field class=\\\"ag-column-select-header-filter-wrapper\\\" ref=\\\"eFilterTextField\\\"></ag-input-text-field>\\n        </div>\";\n\n  __decorate([Autowired('columnModel')], PrimaryColsHeaderPanel.prototype, \"columnModel\", void 0);\n\n  __decorate([RefSelector('eExpand')], PrimaryColsHeaderPanel.prototype, \"eExpand\", void 0);\n\n  __decorate([RefSelector('eSelect')], PrimaryColsHeaderPanel.prototype, \"eSelect\", void 0);\n\n  __decorate([RefSelector('eFilterTextField')], PrimaryColsHeaderPanel.prototype, \"eFilterTextField\", void 0);\n\n  __decorate([PostConstruct], PrimaryColsHeaderPanel.prototype, \"postConstruct\", null);\n\n  return PrimaryColsHeaderPanel;\n}(Component);\n\nexport { PrimaryColsHeaderPanel };","map":{"version":3,"sources":["C:/dev/streamlit-aggrid/st_aggrid/frontend/node_modules/@ag-grid-enterprise/column-tool-panel/dist/es6/columnToolPanel/primaryColsHeaderPanel.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","_","Autowired","Events","RefSelector","KeyCode","PostConstruct","Component","ExpandState","PrimaryColsHeaderPanel","_super","call","TEMPLATE","postConstruct","_this","createExpandIcons","addManagedListener","eExpand","onExpandClicked","bind","e","keyCode","SPACE","eSelect","getInputElement","onSelectClicked","eFilterTextField","onValueChange","onFilterTextChanged","onMiniFilterKeyPress","eventService","EVENT_NEW_COLUMNS_LOADED","showOrHideOptions","translate","gridOptionsWrapper","getLocaleTextFunc","setInputAriaLabel","init","params","columnModel","isReady","appendChild","eExpandChecked","createIconNoSpan","eExpandUnchecked","eExpandIndeterminate","setExpandState","EXPANDED","showFilter","suppressColumnFilter","showSelect","suppressColumnSelectAll","showExpand","suppressColumnExpandAll","groupsPresent","isPrimaryColumnGroupsPresent","setInputPlaceholder","setDisplayed","getGui","onFilterTextChangedDebounced","debounce","filterText","getValue","dispatchEvent","type","DEBOUNCE_DELAY","isKeyPressed","ENTER","setTimeout","selectState","expandState","state","COLLAPSED","INDETERMINATE","setSelectionState","setValue"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Events, RefSelector, KeyCode, PostConstruct, Component } from \"@ag-grid-community/core\";\nexport var ExpandState;\n(function (ExpandState) {\n    ExpandState[ExpandState[\"EXPANDED\"] = 0] = \"EXPANDED\";\n    ExpandState[ExpandState[\"COLLAPSED\"] = 1] = \"COLLAPSED\";\n    ExpandState[ExpandState[\"INDETERMINATE\"] = 2] = \"INDETERMINATE\";\n})(ExpandState || (ExpandState = {}));\nvar PrimaryColsHeaderPanel = /** @class */ (function (_super) {\n    __extends(PrimaryColsHeaderPanel, _super);\n    function PrimaryColsHeaderPanel() {\n        return _super.call(this, PrimaryColsHeaderPanel.TEMPLATE) || this;\n    }\n    PrimaryColsHeaderPanel.prototype.postConstruct = function () {\n        var _this = this;\n        this.createExpandIcons();\n        this.addManagedListener(this.eExpand, 'click', this.onExpandClicked.bind(this));\n        this.addManagedListener(this.eExpand, 'keydown', function (e) {\n            if (e.keyCode === KeyCode.SPACE) {\n                _this.onExpandClicked();\n            }\n        });\n        this.addManagedListener(this.eSelect.getInputElement(), 'click', this.onSelectClicked.bind(this));\n        this.eFilterTextField.onValueChange(function () { return _this.onFilterTextChanged(); });\n        this.addManagedListener(this.eFilterTextField.getInputElement(), 'keypress', this.onMiniFilterKeyPress.bind(this));\n        this.addManagedListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, this.showOrHideOptions.bind(this));\n        var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n        this.eSelect.setInputAriaLabel(translate('ariaColumnSelectAll', 'Toggle Select All Columns'));\n        this.eFilterTextField.setInputAriaLabel(translate('ariaFilterColumnsInput', 'Filter Columns Input'));\n    };\n    PrimaryColsHeaderPanel.prototype.init = function (params) {\n        this.params = params;\n        if (this.columnModel.isReady()) {\n            this.showOrHideOptions();\n        }\n    };\n    PrimaryColsHeaderPanel.prototype.createExpandIcons = function () {\n        this.eExpand.appendChild((this.eExpandChecked = _.createIconNoSpan('columnSelectOpen', this.gridOptionsWrapper)));\n        this.eExpand.appendChild((this.eExpandUnchecked = _.createIconNoSpan('columnSelectClosed', this.gridOptionsWrapper)));\n        this.eExpand.appendChild((this.eExpandIndeterminate = _.createIconNoSpan('columnSelectIndeterminate', this.gridOptionsWrapper)));\n        this.setExpandState(ExpandState.EXPANDED);\n    };\n    // we only show expand / collapse if we are showing columns\n    PrimaryColsHeaderPanel.prototype.showOrHideOptions = function () {\n        var showFilter = !this.params.suppressColumnFilter;\n        var showSelect = !this.params.suppressColumnSelectAll;\n        var showExpand = !this.params.suppressColumnExpandAll;\n        var groupsPresent = this.columnModel.isPrimaryColumnGroupsPresent();\n        var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n        this.eFilterTextField.setInputPlaceholder(translate('searchOoo', 'Search...'));\n        _.setDisplayed(this.eFilterTextField.getGui(), showFilter);\n        _.setDisplayed(this.eSelect.getGui(), showSelect);\n        _.setDisplayed(this.eExpand, showExpand && groupsPresent);\n    };\n    PrimaryColsHeaderPanel.prototype.onFilterTextChanged = function () {\n        var _this = this;\n        if (!this.onFilterTextChangedDebounced) {\n            this.onFilterTextChangedDebounced = _.debounce(function () {\n                var filterText = _this.eFilterTextField.getValue();\n                _this.dispatchEvent({ type: \"filterChanged\", filterText: filterText });\n            }, PrimaryColsHeaderPanel.DEBOUNCE_DELAY);\n        }\n        this.onFilterTextChangedDebounced();\n    };\n    PrimaryColsHeaderPanel.prototype.onMiniFilterKeyPress = function (e) {\n        var _this = this;\n        if (_.isKeyPressed(e, KeyCode.ENTER)) {\n            // we need to add a delay that corresponds to the filter text debounce delay to ensure\n            // the text filtering has happened, otherwise all columns will be deselected\n            setTimeout(function () { return _this.onSelectClicked(); }, PrimaryColsHeaderPanel.DEBOUNCE_DELAY);\n        }\n    };\n    PrimaryColsHeaderPanel.prototype.onSelectClicked = function () {\n        this.dispatchEvent({ type: this.selectState ? 'unselectAll' : 'selectAll' });\n    };\n    PrimaryColsHeaderPanel.prototype.onExpandClicked = function () {\n        this.dispatchEvent({ type: this.expandState === ExpandState.EXPANDED ? 'collapseAll' : 'expandAll' });\n    };\n    PrimaryColsHeaderPanel.prototype.setExpandState = function (state) {\n        this.expandState = state;\n        _.setDisplayed(this.eExpandChecked, this.expandState === ExpandState.EXPANDED);\n        _.setDisplayed(this.eExpandUnchecked, this.expandState === ExpandState.COLLAPSED);\n        _.setDisplayed(this.eExpandIndeterminate, this.expandState === ExpandState.INDETERMINATE);\n    };\n    PrimaryColsHeaderPanel.prototype.setSelectionState = function (state) {\n        this.selectState = state;\n        this.eSelect.setValue(this.selectState);\n    };\n    PrimaryColsHeaderPanel.DEBOUNCE_DELAY = 300;\n    PrimaryColsHeaderPanel.TEMPLATE = \"<div class=\\\"ag-column-select-header\\\" role=\\\"presentation\\\" tabindex=\\\"-1\\\">\\n            <div ref=\\\"eExpand\\\" class=\\\"ag-column-select-header-icon\\\" tabindex=\\\"0\\\"></div>\\n            <ag-checkbox ref=\\\"eSelect\\\" class=\\\"ag-column-select-header-checkbox\\\"></ag-checkbox>\\n            <ag-input-text-field class=\\\"ag-column-select-header-filter-wrapper\\\" ref=\\\"eFilterTextField\\\"></ag-input-text-field>\\n        </div>\";\n    __decorate([\n        Autowired('columnModel')\n    ], PrimaryColsHeaderPanel.prototype, \"columnModel\", void 0);\n    __decorate([\n        RefSelector('eExpand')\n    ], PrimaryColsHeaderPanel.prototype, \"eExpand\", void 0);\n    __decorate([\n        RefSelector('eSelect')\n    ], PrimaryColsHeaderPanel.prototype, \"eSelect\", void 0);\n    __decorate([\n        RefSelector('eFilterTextField')\n    ], PrimaryColsHeaderPanel.prototype, \"eFilterTextField\", void 0);\n    __decorate([\n        PostConstruct\n    ], PrimaryColsHeaderPanel.prototype, \"postConstruct\", null);\n    return PrimaryColsHeaderPanel;\n}(Component));\nexport { PrimaryColsHeaderPanel };\n"]},"metadata":{},"sourceType":"module"}