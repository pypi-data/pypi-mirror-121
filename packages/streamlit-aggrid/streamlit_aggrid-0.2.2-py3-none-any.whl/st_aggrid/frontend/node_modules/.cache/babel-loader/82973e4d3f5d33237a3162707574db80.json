{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { _, Autowired, Bean, BeanStub, Component, ModuleNames, ModuleRegistry, Optional, PostConstruct } from \"@ag-grid-community/core\";\nimport { MenuItemComponent } from \"./menuItemComponent\";\nimport { MenuList } from \"./menuList\";\nvar CSS_MENU = 'ag-menu';\nvar CSS_CONTEXT_MENU_OPEN = ' ag-context-menu-open';\n\nvar ContextMenuFactory = function (_super) {\n  __extends(ContextMenuFactory, _super);\n\n  function ContextMenuFactory() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ContextMenuFactory.prototype.hideActiveMenu = function () {\n    this.destroyBean(this.activeMenu);\n  };\n\n  ContextMenuFactory.prototype.getMenuItems = function (node, column, value) {\n    var defaultMenuOptions = [];\n\n    if (_.exists(node) && ModuleRegistry.isRegistered(ModuleNames.ClipboardModule)) {\n      if (column) {\n        // only makes sense if column exists, could have originated from a row\n        defaultMenuOptions.push('copy', 'copyWithHeaders', 'paste', 'separator');\n      }\n    }\n\n    if (this.gridOptionsWrapper.isEnableCharts() && ModuleRegistry.isRegistered(ModuleNames.RangeSelectionModule) && ModuleRegistry.isRegistered(ModuleNames.GridChartsModule)) {\n      if (this.columnModel.isPivotMode()) {\n        defaultMenuOptions.push('pivotChart');\n      }\n\n      if (this.rangeService && !this.rangeService.isEmpty()) {\n        defaultMenuOptions.push('chartRange');\n      }\n    }\n\n    if (_.exists(node)) {\n      // if user clicks a cell\n      var csvModuleMissing = !ModuleRegistry.isRegistered(ModuleNames.CsvExportModule);\n      var excelModuleMissing = !ModuleRegistry.isRegistered(ModuleNames.ExcelExportModule);\n      var suppressExcel = this.gridOptionsWrapper.isSuppressExcelExport() || excelModuleMissing;\n      var suppressCsv = this.gridOptionsWrapper.isSuppressCsvExport() || csvModuleMissing;\n\n      var onIPad = _.isIOSUserAgent();\n\n      var anyExport = !onIPad && (!suppressExcel || !suppressCsv);\n\n      if (anyExport) {\n        defaultMenuOptions.push('export');\n      }\n    }\n\n    if (this.gridOptionsWrapper.getContextMenuItemsFunc()) {\n      var userFunc = this.gridOptionsWrapper.getContextMenuItemsFunc();\n      var params = {\n        node: node,\n        column: column,\n        value: value,\n        defaultItems: defaultMenuOptions.length ? defaultMenuOptions : undefined,\n        api: this.gridOptionsWrapper.getApi(),\n        columnApi: this.gridOptionsWrapper.getColumnApi(),\n        context: this.gridOptionsWrapper.getContext()\n      };\n      return userFunc ? userFunc(params) : undefined;\n    }\n\n    return defaultMenuOptions;\n  };\n\n  ContextMenuFactory.prototype.onContextMenu = function (mouseEvent, touchEvent, rowNode, column, value, anchorToElement) {\n    // to allow us to debug in chrome, we ignore the event if ctrl is pressed.\n    // not everyone wants this, so first 'if' below allows to turn this hack off.\n    if (!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()) {\n      // then do the check\n      if (mouseEvent && (mouseEvent.ctrlKey || mouseEvent.metaKey)) {\n        return;\n      }\n    } // need to do this regardless of context menu showing or not, so doing\n    // before the isSuppressContextMenu() check\n\n\n    if (mouseEvent) {\n      this.preventDefaultOnContextMenu(mouseEvent);\n    }\n\n    if (this.gridOptionsWrapper.isSuppressContextMenu()) {\n      return;\n    }\n\n    var eventOrTouch = mouseEvent ? mouseEvent : touchEvent.touches[0];\n\n    if (this.showMenu(rowNode, column, value, eventOrTouch, anchorToElement)) {\n      var event_1 = mouseEvent ? mouseEvent : touchEvent;\n      event_1.preventDefault();\n    }\n  };\n\n  ContextMenuFactory.prototype.preventDefaultOnContextMenu = function (mouseEvent) {\n    // if we don't do this, then middle click will never result in a 'click' event, as 'mousedown'\n    // will be consumed by the browser to mean 'scroll' (as you can scroll with the middle mouse\n    // button in the browser). so this property allows the user to receive middle button clicks if\n    // they want.\n    var gridOptionsWrapper = this.gridOptionsWrapper;\n    var which = mouseEvent.which;\n\n    if (gridOptionsWrapper.isPreventDefaultOnContextMenu() || gridOptionsWrapper.isSuppressMiddleClickScrolls() && which === 2) {\n      mouseEvent.preventDefault();\n    }\n  };\n\n  ContextMenuFactory.prototype.showMenu = function (node, column, value, mouseEvent, anchorToElement) {\n    var _this = this;\n\n    var menuItems = this.getMenuItems(node, column, value);\n    var eGridBodyGui = this.ctrlsService.getGridBodyCtrl().getGui();\n\n    if (menuItems === undefined || _.missingOrEmpty(menuItems)) {\n      return false;\n    }\n\n    var menu = new ContextMenu(menuItems);\n    this.createBean(menu);\n    var eMenuGui = menu.getGui();\n    var positionParams = {\n      column: column,\n      rowNode: node,\n      type: 'contextMenu',\n      mouseEvent: mouseEvent,\n      ePopup: eMenuGui,\n      // move one pixel away so that accidentally double clicking\n      // won't show the browser's contextmenu\n      nudgeY: 1\n    };\n    var addPopupRes = this.popupService.addPopup({\n      modal: true,\n      eChild: eMenuGui,\n      closeOnEsc: true,\n      closedCallback: function closedCallback() {\n        _.removeCssClass(eGridBodyGui, CSS_CONTEXT_MENU_OPEN);\n\n        _this.destroyBean(menu);\n      },\n      click: mouseEvent,\n      positionCallback: function positionCallback() {\n        _this.popupService.positionPopupUnderMouseEvent(_.assign({}, {\n          nudgeX: _this.gridOptionsWrapper.isEnableRtl() ? (eMenuGui.offsetWidth + 1) * -1 : 1\n        }, positionParams));\n      },\n      // so when browser is scrolled down, or grid is scrolled, context menu stays with cell\n      anchorToElement: anchorToElement\n    });\n\n    if (addPopupRes) {\n      _.addCssClass(eGridBodyGui, CSS_CONTEXT_MENU_OPEN);\n\n      menu.afterGuiAttached({\n        container: 'contextMenu',\n        hidePopup: addPopupRes.hideFunc\n      });\n    } // there should never be an active menu at this point, however it was found\n    // that you could right click a second time just 1 or 2 pixels from the first\n    // click, and another menu would pop up. so somehow the logic for closing the\n    // first menu (clicking outside should close it) was glitchy somehow. an easy\n    // way to avoid this is just remove the old context menu here if it exists.\n\n\n    if (this.activeMenu) {\n      this.hideActiveMenu();\n    }\n\n    this.activeMenu = menu;\n    menu.addEventListener(BeanStub.EVENT_DESTROYED, function () {\n      if (_this.activeMenu === menu) {\n        _this.activeMenu = null;\n      }\n    }); // hide the popup if something gets selected\n\n    if (addPopupRes) {\n      menu.addEventListener(MenuItemComponent.EVENT_MENU_ITEM_SELECTED, addPopupRes.hideFunc);\n    }\n\n    return true;\n  };\n\n  __decorate([Autowired('popupService')], ContextMenuFactory.prototype, \"popupService\", void 0);\n\n  __decorate([Optional('rangeService')], ContextMenuFactory.prototype, \"rangeService\", void 0);\n\n  __decorate([Autowired('ctrlsService')], ContextMenuFactory.prototype, \"ctrlsService\", void 0);\n\n  __decorate([Autowired('columnModel')], ContextMenuFactory.prototype, \"columnModel\", void 0);\n\n  ContextMenuFactory = __decorate([Bean('contextMenuFactory')], ContextMenuFactory);\n  return ContextMenuFactory;\n}(BeanStub);\n\nexport { ContextMenuFactory };\n\nvar ContextMenu = function (_super) {\n  __extends(ContextMenu, _super);\n\n  function ContextMenu(menuItems) {\n    var _this = _super.call(this,\n    /* html */\n    \"<div class=\\\"\" + CSS_MENU + \"\\\" role=\\\"presentation\\\"></div>\") || this;\n\n    _this.menuList = null;\n    _this.focusedCell = null;\n    _this.menuItems = menuItems;\n    return _this;\n  }\n\n  ContextMenu.prototype.addMenuItems = function () {\n    var _this = this;\n\n    var menuList = this.createBean(new MenuList());\n    var menuItemsMapped = this.menuItemMapper.mapWithStockItems(this.menuItems, null);\n    menuList.addMenuItems(menuItemsMapped);\n    this.appendChild(menuList);\n    this.menuList = menuList;\n    menuList.addEventListener(MenuItemComponent.EVENT_MENU_ITEM_SELECTED, function (e) {\n      return _this.dispatchEvent(e);\n    });\n  };\n\n  ContextMenu.prototype.afterGuiAttached = function (params) {\n    if (params.hidePopup) {\n      this.addDestroyFunc(params.hidePopup);\n    }\n\n    this.focusedCell = this.focusService.getFocusedCell();\n\n    if (this.menuList) {\n      this.focusService.focusInto(this.menuList.getGui());\n    }\n  };\n\n  ContextMenu.prototype.restoreFocusedCell = function () {\n    var currentFocusedCell = this.focusService.getFocusedCell();\n\n    if (currentFocusedCell && this.focusedCell && this.cellPositionUtils.equals(currentFocusedCell, this.focusedCell)) {\n      var _a = this.focusedCell,\n          rowIndex = _a.rowIndex,\n          rowPinned = _a.rowPinned,\n          column = _a.column;\n      var doc = this.gridOptionsWrapper.getDocument();\n\n      if (doc.activeElement === doc.body) {\n        this.focusService.setFocusedCell(rowIndex, column, rowPinned, true);\n      }\n    }\n  };\n\n  ContextMenu.prototype.destroy = function () {\n    this.restoreFocusedCell();\n\n    _super.prototype.destroy.call(this);\n  };\n\n  __decorate([Autowired('menuItemMapper')], ContextMenu.prototype, \"menuItemMapper\", void 0);\n\n  __decorate([Autowired('focusService')], ContextMenu.prototype, \"focusService\", void 0);\n\n  __decorate([Autowired('cellPositionUtils')], ContextMenu.prototype, \"cellPositionUtils\", void 0);\n\n  __decorate([PostConstruct], ContextMenu.prototype, \"addMenuItems\", null);\n\n  return ContextMenu;\n}(Component);","map":{"version":3,"sources":["C:/dev/streamlit-aggrid/st_aggrid/frontend/node_modules/@ag-grid-enterprise/menu/dist/es6/menu/contextMenu.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","_","Autowired","Bean","BeanStub","Component","ModuleNames","ModuleRegistry","Optional","PostConstruct","MenuItemComponent","MenuList","CSS_MENU","CSS_CONTEXT_MENU_OPEN","ContextMenuFactory","_super","apply","hideActiveMenu","destroyBean","activeMenu","getMenuItems","node","column","value","defaultMenuOptions","exists","isRegistered","ClipboardModule","push","gridOptionsWrapper","isEnableCharts","RangeSelectionModule","GridChartsModule","columnModel","isPivotMode","rangeService","isEmpty","csvModuleMissing","CsvExportModule","excelModuleMissing","ExcelExportModule","suppressExcel","isSuppressExcelExport","suppressCsv","isSuppressCsvExport","onIPad","isIOSUserAgent","anyExport","getContextMenuItemsFunc","userFunc","params","defaultItems","undefined","api","getApi","columnApi","getColumnApi","context","getContext","onContextMenu","mouseEvent","touchEvent","rowNode","anchorToElement","isAllowContextMenuWithControlKey","ctrlKey","metaKey","preventDefaultOnContextMenu","isSuppressContextMenu","eventOrTouch","touches","showMenu","event_1","preventDefault","which","isPreventDefaultOnContextMenu","isSuppressMiddleClickScrolls","_this","menuItems","eGridBodyGui","ctrlsService","getGridBodyCtrl","getGui","missingOrEmpty","menu","ContextMenu","createBean","eMenuGui","positionParams","type","ePopup","nudgeY","addPopupRes","popupService","addPopup","modal","eChild","closeOnEsc","closedCallback","removeCssClass","click","positionCallback","positionPopupUnderMouseEvent","assign","nudgeX","isEnableRtl","offsetWidth","addCssClass","afterGuiAttached","container","hidePopup","hideFunc","addEventListener","EVENT_DESTROYED","EVENT_MENU_ITEM_SELECTED","call","menuList","focusedCell","addMenuItems","menuItemsMapped","menuItemMapper","mapWithStockItems","appendChild","e","dispatchEvent","addDestroyFunc","focusService","getFocusedCell","focusInto","restoreFocusedCell","currentFocusedCell","cellPositionUtils","equals","_a","rowIndex","rowPinned","doc","getDocument","activeElement","body","setFocusedCell","destroy"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { _, Autowired, Bean, BeanStub, Component, ModuleNames, ModuleRegistry, Optional, PostConstruct } from \"@ag-grid-community/core\";\nimport { MenuItemComponent } from \"./menuItemComponent\";\nimport { MenuList } from \"./menuList\";\nvar CSS_MENU = 'ag-menu';\nvar CSS_CONTEXT_MENU_OPEN = ' ag-context-menu-open';\nvar ContextMenuFactory = /** @class */ (function (_super) {\n    __extends(ContextMenuFactory, _super);\n    function ContextMenuFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ContextMenuFactory.prototype.hideActiveMenu = function () {\n        this.destroyBean(this.activeMenu);\n    };\n    ContextMenuFactory.prototype.getMenuItems = function (node, column, value) {\n        var defaultMenuOptions = [];\n        if (_.exists(node) && ModuleRegistry.isRegistered(ModuleNames.ClipboardModule)) {\n            if (column) {\n                // only makes sense if column exists, could have originated from a row\n                defaultMenuOptions.push('copy', 'copyWithHeaders', 'paste', 'separator');\n            }\n        }\n        if (this.gridOptionsWrapper.isEnableCharts() &&\n            ModuleRegistry.isRegistered(ModuleNames.RangeSelectionModule) &&\n            ModuleRegistry.isRegistered(ModuleNames.GridChartsModule)) {\n            if (this.columnModel.isPivotMode()) {\n                defaultMenuOptions.push('pivotChart');\n            }\n            if (this.rangeService && !this.rangeService.isEmpty()) {\n                defaultMenuOptions.push('chartRange');\n            }\n        }\n        if (_.exists(node)) {\n            // if user clicks a cell\n            var csvModuleMissing = !ModuleRegistry.isRegistered(ModuleNames.CsvExportModule);\n            var excelModuleMissing = !ModuleRegistry.isRegistered(ModuleNames.ExcelExportModule);\n            var suppressExcel = this.gridOptionsWrapper.isSuppressExcelExport() || excelModuleMissing;\n            var suppressCsv = this.gridOptionsWrapper.isSuppressCsvExport() || csvModuleMissing;\n            var onIPad = _.isIOSUserAgent();\n            var anyExport = !onIPad && (!suppressExcel || !suppressCsv);\n            if (anyExport) {\n                defaultMenuOptions.push('export');\n            }\n        }\n        if (this.gridOptionsWrapper.getContextMenuItemsFunc()) {\n            var userFunc = this.gridOptionsWrapper.getContextMenuItemsFunc();\n            var params = {\n                node: node,\n                column: column,\n                value: value,\n                defaultItems: defaultMenuOptions.length ? defaultMenuOptions : undefined,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext()\n            };\n            return userFunc ? userFunc(params) : undefined;\n        }\n        return defaultMenuOptions;\n    };\n    ContextMenuFactory.prototype.onContextMenu = function (mouseEvent, touchEvent, rowNode, column, value, anchorToElement) {\n        // to allow us to debug in chrome, we ignore the event if ctrl is pressed.\n        // not everyone wants this, so first 'if' below allows to turn this hack off.\n        if (!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()) {\n            // then do the check\n            if (mouseEvent && (mouseEvent.ctrlKey || mouseEvent.metaKey)) {\n                return;\n            }\n        }\n        // need to do this regardless of context menu showing or not, so doing\n        // before the isSuppressContextMenu() check\n        if (mouseEvent) {\n            this.preventDefaultOnContextMenu(mouseEvent);\n        }\n        if (this.gridOptionsWrapper.isSuppressContextMenu()) {\n            return;\n        }\n        var eventOrTouch = mouseEvent ? mouseEvent : touchEvent.touches[0];\n        if (this.showMenu(rowNode, column, value, eventOrTouch, anchorToElement)) {\n            var event_1 = mouseEvent ? mouseEvent : touchEvent;\n            event_1.preventDefault();\n        }\n    };\n    ContextMenuFactory.prototype.preventDefaultOnContextMenu = function (mouseEvent) {\n        // if we don't do this, then middle click will never result in a 'click' event, as 'mousedown'\n        // will be consumed by the browser to mean 'scroll' (as you can scroll with the middle mouse\n        // button in the browser). so this property allows the user to receive middle button clicks if\n        // they want.\n        var gridOptionsWrapper = this.gridOptionsWrapper;\n        var which = mouseEvent.which;\n        if (gridOptionsWrapper.isPreventDefaultOnContextMenu() ||\n            (gridOptionsWrapper.isSuppressMiddleClickScrolls() && which === 2)) {\n            mouseEvent.preventDefault();\n        }\n    };\n    ContextMenuFactory.prototype.showMenu = function (node, column, value, mouseEvent, anchorToElement) {\n        var _this = this;\n        var menuItems = this.getMenuItems(node, column, value);\n        var eGridBodyGui = this.ctrlsService.getGridBodyCtrl().getGui();\n        if (menuItems === undefined || _.missingOrEmpty(menuItems)) {\n            return false;\n        }\n        var menu = new ContextMenu(menuItems);\n        this.createBean(menu);\n        var eMenuGui = menu.getGui();\n        var positionParams = {\n            column: column,\n            rowNode: node,\n            type: 'contextMenu',\n            mouseEvent: mouseEvent,\n            ePopup: eMenuGui,\n            // move one pixel away so that accidentally double clicking\n            // won't show the browser's contextmenu\n            nudgeY: 1\n        };\n        var addPopupRes = this.popupService.addPopup({\n            modal: true,\n            eChild: eMenuGui,\n            closeOnEsc: true,\n            closedCallback: function () {\n                _.removeCssClass(eGridBodyGui, CSS_CONTEXT_MENU_OPEN);\n                _this.destroyBean(menu);\n            },\n            click: mouseEvent,\n            positionCallback: function () {\n                _this.popupService.positionPopupUnderMouseEvent(_.assign({}, {\n                    nudgeX: _this.gridOptionsWrapper.isEnableRtl() ? (eMenuGui.offsetWidth + 1) * -1 : 1\n                }, positionParams));\n            },\n            // so when browser is scrolled down, or grid is scrolled, context menu stays with cell\n            anchorToElement: anchorToElement\n        });\n        if (addPopupRes) {\n            _.addCssClass(eGridBodyGui, CSS_CONTEXT_MENU_OPEN);\n            menu.afterGuiAttached({ container: 'contextMenu', hidePopup: addPopupRes.hideFunc });\n        }\n        // there should never be an active menu at this point, however it was found\n        // that you could right click a second time just 1 or 2 pixels from the first\n        // click, and another menu would pop up. so somehow the logic for closing the\n        // first menu (clicking outside should close it) was glitchy somehow. an easy\n        // way to avoid this is just remove the old context menu here if it exists.\n        if (this.activeMenu) {\n            this.hideActiveMenu();\n        }\n        this.activeMenu = menu;\n        menu.addEventListener(BeanStub.EVENT_DESTROYED, function () {\n            if (_this.activeMenu === menu) {\n                _this.activeMenu = null;\n            }\n        });\n        // hide the popup if something gets selected\n        if (addPopupRes) {\n            menu.addEventListener(MenuItemComponent.EVENT_MENU_ITEM_SELECTED, addPopupRes.hideFunc);\n        }\n        return true;\n    };\n    __decorate([\n        Autowired('popupService')\n    ], ContextMenuFactory.prototype, \"popupService\", void 0);\n    __decorate([\n        Optional('rangeService')\n    ], ContextMenuFactory.prototype, \"rangeService\", void 0);\n    __decorate([\n        Autowired('ctrlsService')\n    ], ContextMenuFactory.prototype, \"ctrlsService\", void 0);\n    __decorate([\n        Autowired('columnModel')\n    ], ContextMenuFactory.prototype, \"columnModel\", void 0);\n    ContextMenuFactory = __decorate([\n        Bean('contextMenuFactory')\n    ], ContextMenuFactory);\n    return ContextMenuFactory;\n}(BeanStub));\nexport { ContextMenuFactory };\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    function ContextMenu(menuItems) {\n        var _this = _super.call(this, /* html */ \"<div class=\\\"\" + CSS_MENU + \"\\\" role=\\\"presentation\\\"></div>\") || this;\n        _this.menuList = null;\n        _this.focusedCell = null;\n        _this.menuItems = menuItems;\n        return _this;\n    }\n    ContextMenu.prototype.addMenuItems = function () {\n        var _this = this;\n        var menuList = this.createBean(new MenuList());\n        var menuItemsMapped = this.menuItemMapper.mapWithStockItems(this.menuItems, null);\n        menuList.addMenuItems(menuItemsMapped);\n        this.appendChild(menuList);\n        this.menuList = menuList;\n        menuList.addEventListener(MenuItemComponent.EVENT_MENU_ITEM_SELECTED, function (e) { return _this.dispatchEvent(e); });\n    };\n    ContextMenu.prototype.afterGuiAttached = function (params) {\n        if (params.hidePopup) {\n            this.addDestroyFunc(params.hidePopup);\n        }\n        this.focusedCell = this.focusService.getFocusedCell();\n        if (this.menuList) {\n            this.focusService.focusInto(this.menuList.getGui());\n        }\n    };\n    ContextMenu.prototype.restoreFocusedCell = function () {\n        var currentFocusedCell = this.focusService.getFocusedCell();\n        if (currentFocusedCell && this.focusedCell && this.cellPositionUtils.equals(currentFocusedCell, this.focusedCell)) {\n            var _a = this.focusedCell, rowIndex = _a.rowIndex, rowPinned = _a.rowPinned, column = _a.column;\n            var doc = this.gridOptionsWrapper.getDocument();\n            if (doc.activeElement === doc.body) {\n                this.focusService.setFocusedCell(rowIndex, column, rowPinned, true);\n            }\n        }\n    };\n    ContextMenu.prototype.destroy = function () {\n        this.restoreFocusedCell();\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Autowired('menuItemMapper')\n    ], ContextMenu.prototype, \"menuItemMapper\", void 0);\n    __decorate([\n        Autowired('focusService')\n    ], ContextMenu.prototype, \"focusService\", void 0);\n    __decorate([\n        Autowired('cellPositionUtils')\n    ], ContextMenu.prototype, \"cellPositionUtils\", void 0);\n    __decorate([\n        PostConstruct\n    ], ContextMenu.prototype, \"addMenuItems\", null);\n    return ContextMenu;\n}(Component));\n"]},"metadata":{},"sourceType":"module"}