{% extends "admin/delete_confirmation.html" %}
{% load i18n static get_page_list_from_object %}

{% block extrastyle %}{{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'filer/css/admin_filer.css' %}">
{% endblock %}

{% block breadcrumbs %}
    {% include "admin/filer/breadcrumbs.html" with instance=object breadcrumbs_action="Delete" %}
{% endblock %}

{% block content %}
    {{ block.super }}
    <br />
    <p><i>{% trans 'Here are the pages where the objects are used:' %}</i></p>
    {% with files=object|get_page_list_from_object %}
        <p><i>{{ files.images|length }} {% trans 'images and' %} {{ files.media|length }} {% trans 'media' %}</i></p>
        <ul>
            <li>Media:
                <ul>
                {% for file in files.media %}
                    <li>{{ file.name }} - <a href="{{ file.url }}" target="_blank">{{ file.title}}</a> ({{ file.lang}})</li>
                {% empty %}
                    <li><i>{% trans 'No file is used on a page as a media!' %}</i></li>
                {% endfor %}
                </ul>
            </li>
            <li>Images:
                <ul>
                {% for file in files.images %}
                    <li>{{ file.name }} - <a href="{{ file.url }}" target="_blank">{{ file.title}}</a> ({{ file.lang}})</li>
                {% empty %}
                    <li><i>{% trans 'No file is used on a page as an image!' %}</i></li>
                {% endfor %}
                </ul>
            </li>
        </ul>
    {% endwith %}

{% endblock %}
