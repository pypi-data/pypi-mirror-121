<graph id="Graph">
  <version>1.0</version>
  <node id="Read">
    <operator>Read</operator>
    <sources/>
    <parameters class="com.bc.ceres.binding.dom.XppDomElement">
      <file>${in}</file>
      <formatName>${format}</formatName>
    </parameters>
  </node>
  <node id="Rad2Refl">
    <operator>Rad2Refl</operator>
    <sources>
      <sourceProduct refid="Read"/>
    </sources>
    <parameters class="com.bc.ceres.binding.dom.XppDomElement">
      <sensor>${sensor}</sensor>
      <conversionMode>RAD_TO_REFL</conversionMode>
      <copyTiePointGrids>false</copyTiePointGrids>
      <copyFlagBandsAndMasks>true</copyFlagBandsAndMasks>
      <copyNonSpectralBands>true</copyNonSpectralBands>
    </parameters>
  </node>
  <node id="Subset">
    <operator>Subset</operator>
    <sources>
      <sourceProduct refid="Rad2Refl"/>
    </sources>
    <parameters class="com.bc.ceres.binding.dom.XppDomElement">
      <bandNames>${bands}</bandNames>
      <region/>
      <geoRegion/>
      <subSamplingX>1</subSamplingX>
      <subSamplingY>1</subSamplingY>
      <fullSwath>false</fullSwath>
      <tiePointGridNames/>
      <copyMetadata>false</copyMetadata>
    </parameters>
  </node>
  <node id="Reproject">
    <operator>Reproject</operator>
    <sources>
      <sourceProduct refid="Subset"/>
    </sources>
    <parameters class="com.bc.ceres.binding.dom.XppDomElement">
      <wktFile/>
      <crs>AUTO:42001</crs>
      <resampling>Bilinear</resampling>
      <referencePixelX/>
      <referencePixelY/>
      <easting/>
      <northing/>
      <orientation/>
      <pixelSizeX>${res_m}</pixelSizeX>
      <pixelSizeY>${res_m}</pixelSizeY>
      <width/>
      <height/>
      <tileSizeX/>
      <tileSizeY/>
      <orthorectify>true</orthorectify>
      <elevationModelName/>
      <noDataValue>${no_data}</noDataValue>
      <includeTiePointGrids>true</includeTiePointGrids>
      <addDeltaBands>false</addDeltaBands>
    </parameters>
  </node>
  <node id="Write">
    <operator>Write</operator>
    <sources>
      <sourceProduct refid="Reproject"/>
    </sources>
    <parameters class="com.bc.ceres.binding.dom.XppDomElement">
      <file>${out}</file>
      <formatName>BEAM-DIMAP</formatName>
    </parameters>
  </node>
</graph>
