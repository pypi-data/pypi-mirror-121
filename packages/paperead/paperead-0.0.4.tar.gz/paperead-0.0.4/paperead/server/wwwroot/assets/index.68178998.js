var Tt=Object.defineProperty,Et=Object.defineProperties;var Ht=Object.getOwnPropertyDescriptors;var _t=Object.getOwnPropertySymbols;var jt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var at=(o,s,l)=>s in o?Tt(o,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[s]=l,m=(o,s)=>{for(var l in s||(s={}))jt.call(s,l)&&at(o,l,s[l]);if(_t)for(var l of _t(s))qt.call(s,l)&&at(o,l,s[l]);return o},h=(o,s)=>Et(o,Ht(s));var st=(o,s,l)=>(at(o,typeof s!="symbol"?s+"":s,l),l);import{c as Ct,u as Dt,d as y,w as U,o as c,a as f,b as e,e as a,f as t,N as v,I as T,A as ct,g as k,L as pt,B as ft,G as mt,h as $,t as g,C as A,i as Q,j as B,k as E,r as L,l as H,S as j,m as q,n as ht,p as gt,q as lt,s as X,v as Ot,x as Rt,y as S,R as zt,z as yt,D as p,E as nt,F as ot,H as R,J as z,K as Vt,M as Ft,O as Gt,P as Kt,Q as Wt,T as Y,U as V,V as rt,W as vt,X as F,Y as x,Z as G,_ as Jt,$ as Qt,a0 as Xt,a1 as $t,a2 as K,a3 as ut,a4 as Yt,a5 as it,a6 as M,a7 as Z,a8 as C,a9 as tt,aa as bt,ab as xt,ac as D,ad as Zt,ae as dt,af as te,ag as ee,ah as wt,ai as ae,aj as se,ak as Nt,al as le,am as W,an as kt,ao as ne,ap as oe,aq as re}from"./vendor.39053e77.js";const ue=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerpolicy&&(d.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?d.credentials="include":r.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}};ue();function O(o){return(o==null?void 0:o.startsWith("./"))||(o==null?void 0:o.startsWith("../"))||o=="."||o==".."}class St{constructor(s){st(this,"baseUrl");this.baseUrl=s}async all(){return await(await fetch(`${this.baseUrl}/materials/index.json`)).json()}async get(s){let n=await(await fetch(`${this.baseUrl}/materials/${s}/index.json`)).json();return h(m({},n),{metadata:h(m({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}notes(s){return new ie(`${this.baseUrl}/materials/${s}`)}async update(s){let l=h(m({},s),{metadata:h(m({},s.metadata),{creation:s.metadata.creation.toISOString(),modification:s.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/materials/`,{body:JSON.stringify(l),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(s){await fetch(`${this.baseUrl}/materials/${s}`,{method:"DELETE"})}resolveRelativeUrl(s,l="."){return O(l)?`${this.baseUrl}/materials/${s}/${l}`:l}}class ie{constructor(s){st(this,"baseUrl");this.baseUrl=s}async all(){return await(await fetch(`${this.baseUrl}/notes/index.json`)).json()}async get(s){let n=await(await fetch(`${this.baseUrl}/notes/${s}/index.json`)).json();return h(m({},n),{metadata:h(m({},n.metadata),{creation:new Date(n.metadata.creation.toString()),modification:new Date(n.metadata.modification.toString())})})}async update(s){let l=h(m({},s),{metadata:h(m({},s.metadata),{creation:s.metadata.creation.toISOString(),modification:s.metadata.modification.toISOString()})});await fetch(`${this.baseUrl}/notes/`,{body:JSON.stringify(l),method:"POST",headers:{"Content-Type":"application/json"}})}async delete(s){await fetch(`${this.baseUrl}/notes/${s}/`,{method:"DELETE"})}}const It=Symbol(),Ut="/api",de=Ct({state(){return{apiUrl:Ut,materials:new St(Ut)}},mutations:{setApiUrl(o,s){o.apiUrl=s,o.materials=new St(o.apiUrl)}}});function w(){return Dt(It)}const _e=$("a",{href:"https://www.stardustdl.top/",style:{"text-decoration":"none",color:"inherit"}},"StardustDL",-1),ce=$("a",{href:"https://github.com/StardustDL/paperead/blob/master/LICENSE",style:{"text-decoration":"none",color:"inherit"}},"MPL-2.0",-1),pe=$("a",{href:"https://github.com/StardustDL/paperead",style:{"text-decoration":"none",color:"inherit"}},"GitHub",-1),fe=["href"];async function me(o){let s,l;const n=([s,l]=U(async()=>([s,l]=U(()=>fetch("/build.json")),s=await s,l(),s).json()),s=await s,l(),s);return(r,d)=>(c(),f(t(B),null,{default:e(()=>[a(t(k),{text:""},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(ct))]),_:1})]),_:1})]),default:e(()=>[_e]),_:1}),a(t(k),{text:""},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(pt))]),_:1})]),_:1})]),default:e(()=>[ce]),_:1}),a(t(k),{text:""},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(ft))]),_:1})]),_:1})]),default:e(()=>[pe]),_:1}),a(t(k),{text:""},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(mt))]),_:1})]),_:1})]),default:e(()=>[$("a",{href:`https://github.com/StardustDL/paperead/commit/${t(n).commit}`,style:{"text-decoration":"none",color:"inherit"}},g(t(n).shortCommit),9,fe)]),_:1}),a(t(k),{text:""},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(T),null,{default:e(()=>[a(t(A))]),_:1})]),_:1})]),default:e(()=>[a(t(Q),{time:new Date(t(n).date),type:"relative"},null,8,["time"])]),_:1})]),_:1}))}const he={components:{Icon:T,BrandGithub:ft,At:ct,License:pt,GitCommit:mt,Clock:A}},ge=y(h(m({},he),{setup:me}));var N=(o,s)=>{for(const[l,n]of s)o[l]=n;return o};const ye={class:"status"},ve=p("Reading"),$e=p("\xA0and "),be=p("Notes");function xe(o){const s=E();function l(i){return()=>nt(v,null,{default:()=>nt(i)})}const n=L("home"),r=[{label:"Home",key:"home",icon:l(R),route:"/"},{label:"Materials",key:"materials",icon:l(ot),route:"/materials"}];async function d(i,u){await s.push(u.route)}return(i,u)=>(c(),f(t(X),{style:{height:"100%"}},{default:e(()=>[a(t(lt),{style:{padding:"8px",height:"55px"},bordered:""},{default:e(()=>[a(t(H),{subtitle:"\u9605\u8BFB\u4E0E\u7B14\u8BB0"},{extra:e(()=>[$("div",ye,[(c(),f(j,null,{default:e(()=>[a(ge)]),_:1}))])]),avatar:e(()=>[a(t(q),{size:"large"},{default:e(()=>[a(t(v),null,{default:e(()=>[a(t(ht))]),_:1})]),_:1})]),title:e(()=>[a(t(gt),{type:"info"},{default:e(()=>[ve]),_:1}),$e,a(t(gt),{type:"success"},{default:e(()=>[be]),_:1})]),_:1})]),_:1}),a(t(S),{style:{height:"calc(100% - 55px)"}},{default:e(()=>[a(t(X),{"has-sider":"",style:{height:"100%"}},{default:e(()=>[a(t(Ot),{"collapse-mode":"width","collapsed-width":48,width:180,"show-trigger":"bar",bordered:"","default-collapsed":!0,"native-scrollbar":!1},{default:e(()=>[a(t(Rt),{value:n.value,"onUpdate:value":[u[0]||(u[0]=_=>n.value=_),d],options:r},null,8,["value"])]),_:1}),a(t(S),{"content-style":"padding: 15px;"},{default:e(()=>[(c(),f(j,null,{default:e(()=>[a(t(zt))]),fallback:e(()=>[a(t(yt),{size:80,id:"loading-spin",style:{width:"100%"}})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1}))}const we={components:{Notebook:ht}},Ne=y(h(m({},we),{setup:xe}));var ke=N(Ne,[["__scopeId","data-v-6f732496"]]);const Se=y({setup(o){z();const s=Vt();return(l,n)=>(c(),f(t(Gt),{style:{height:"100%"},theme:t(s)=="dark"?t(Ft):null},{default:e(()=>[a(t(Wt),null,{default:e(()=>[a(t(Kt)),(c(),f(j,null,{default:e(()=>[a(ke)]),fallback:e(()=>[a(t(yt),{size:80,id:"loading-spin"})]),_:1}))]),_:1})]),_:1},8,["theme"]))}});var Ie=N(Se,[["__scopeId","data-v-3afbaa00"]]);const Ue=y({props:{headerHeight:{type:Number,required:!1},floatHeader:{type:Boolean,required:!1}},setup(o){const s=o,l=Y(()=>{var r;return(r=s.headerHeight)!=null?r:130}),n=Y(()=>{var r;return(r=s.floatHeader)!=null?r:!1});return(r,d)=>t(n)?(c(),f(t(X),{key:0,style:{height:"100%"},"native-scrollbar":!1},{default:e(()=>[a(t(lt),{bordered:"",style:rt({height:`${t(l)}px`})},{default:e(()=>[V(r.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(t(S),null,{default:e(()=>[V(r.$slots,"default",{},void 0,!0)]),_:3}),a(t(vt),{right:100})]),_:3})):(c(),f(t(X),{key:1,style:{height:"100%"}},{default:e(()=>[a(t(lt),{bordered:"",style:rt({height:`${t(l)}px`})},{default:e(()=>[V(r.$slots,"header",{},void 0,!0)]),_:3},8,["style"]),a(t(S),{style:rt({height:`calc(100% - ${t(l)}px)`}),"native-scrollbar":!1},{default:e(()=>[V(r.$slots,"default",{},void 0,!0),a(t(vt),{right:100})]),_:3},8,["style"])]),_:3}))}});var J=N(Ue,[["__scopeId","data-v-36d5200f"]]);const Be=p("Home"),Pe=p("Paperead"),Ae=p(" API Server:\xA0"),Le=["href"];function Me(o){const s=w(),l=E();return(n,r)=>(c(),f(J,null,{header:e(()=>[a(t(H),{subtitle:"\u4E3B\u9875",onBack:r[0]||(r[0]=()=>t(l).back())},{title:e(()=>[Be]),header:e(()=>[a(t(F),null,{default:e(()=>[a(t(x),null,{default:e(()=>[Pe]),_:1})]),_:1})]),avatar:e(()=>[a(t(q),null,{default:e(()=>[a(t(v),null,{default:e(()=>[a(t(R))]),_:1})]),_:1})]),footer:e(()=>[Ae,$("a",{href:t(s).state.apiUrl},g(t(s).state.apiUrl),9,Le)]),_:1})]),default:e(()=>[a(t(S),{"content-style":"padding: 10px;"},{default:e(()=>[a(t(B),{vertical:""})]),_:1})]),_:1}))}const Te={components:{Home:R}},Ee=y(h(m({},Te),{setup:Me}));var He=N(Ee,[["__scopeId","data-v-6ef23a2c"]]);const je=p("Home");function qe(o){w();const l=z().params;return(n,r)=>(c(),f(t(Jt),{status:"404",title:"Not Found",description:`Path: /${t(l).path.join("/")}`},{footer:e(()=>[a(t(k),null,{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(R))]),_:1})]),default:e(()=>[a(t(G),{to:"/"},{default:e(()=>[je]),_:1})]),_:1})]),_:1},8,["description"]))}const Ce={components:{Home:R,AlertCircle:Qt}},De=y(h(m({},Ce),{setup:qe}));var Oe=N(De,[["__scopeId","data-v-32e9239b"]]);const Re=$("span",null,"Creation:",-1),ze=p("\xA0"),Ve=$("br",null,null,-1),Fe=$("span",null,"Modification:",-1),Ge=p("\xA0");function Ke(o){const s=o;return(l,n)=>(c(),f(t(Xt),null,{trigger:e(()=>[a(t(B),null,{default:e(()=>[a(t(v),{size:"large"},{default:e(()=>[a(t(A))]),_:1}),a(t(Q),{time:s.creation,type:"relative"},null,8,["time"])]),_:1})]),default:e(()=>[Re,ze,a(t(Q),{time:s.creation},null,8,["time"]),Ve,Fe,Ge,a(t(Q),{time:o.modification},null,8,["time"])]),_:1}))}const We={components:{Clock:A}},Je=y(h(m({},We),{props:{creation:{type:Date,required:!0},modification:{type:Date,required:!0}},setup:Ke}));function Qe(o){const s=o;return(l,n)=>(c(),f(t(B),null,{default:e(()=>[a(t(v),{size:"large"},{default:e(()=>[a(t($t))]),_:1}),(c(!0),K(it,null,ut(s.tags,r=>(c(),f(t(Yt),{key:r,size:"small"},{default:e(()=>[p(g(r),1)]),_:2},1024))),128))]),_:1}))}const Xe={components:{Tag:$t}},Ye=y(h(m({},Xe),{props:{tags:{type:Array,required:!0}},setup:Qe})),et=y({props:{data:{type:null,required:!0}},setup(o){return(s,l)=>(c(),f(t(B),null,{default:e(()=>[a(Je,{creation:o.data.creation,modification:o.data.modification},null,8,["creation","modification"]),o.data.tags.length>0?(c(),f(Ye,{key:0,tags:o.data.tags},null,8,["tags"])):M("",!0)]),_:1}))}});function Ze(o){const s=o,l=w(),n=L();async function r(){n.value=await l.state.materials.get(s.id)}return Z(r),C(s,r),(d,i)=>{const u=tt("router-link");return n.value?(c(),f(t(xt),{key:0},{header:e(()=>[a(u,{to:`/materials/${n.value.id}`},{default:e(()=>[p(g(n.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":e(()=>[]),action:e(()=>[a(et,{data:n.value.metadata},null,8,["data"])]),default:e(()=>[n.value.content.length>0?(c(),f(t(bt),{key:0,tooltip:!1,"line-clamp":5},{default:e(()=>[p(g(n.value.content),1)]),_:1})):M("",!0)]),_:1})):M("",!0)}}const ta={components:{Book:D,Clock:A}},ea=y(h(m({},ta),{props:{id:{type:String,required:!0}},setup:Ze}));var aa=N(ea,[["__scopeId","data-v-e62997c2"]]);function sa(o){const s=o;w();const l=L([]),n=L(1),r=L(5);function d(){let i=(n.value-1)*r.value;l.value=s.items.slice(i,i+r.value)}return C(n,d),C(r,d),Z(d),C(s,()=>n.value=1),(i,u)=>(c(),f(t(B),{vertical:""},{default:e(()=>[(c(!0),K(it,null,ut(l.value,_=>(c(),f(j,{key:_},{default:e(()=>[V(i.$slots,"default",{item:_})]),fallback:e(()=>[a(t(dt),{text:"",repeat:2})]),_:2},1024))),128)),a(t(Zt),{style:{"justify-content":"center","margin-top":"20px"},"item-count":o.items.length,"page-size":r.value,"onUpdate:page-size":u[0]||(u[0]=_=>r.value=_),page:n.value,"onUpdate:page":u[1]||(u[1]=_=>n.value=_),"page-sizes":[5,10,20],"show-quick-jumper":"","show-size-picker":""},null,8,["item-count","page-size","page"])]),_:3}))}const la={components:{Book:D,Clock:A}},Bt=y(h(m({},la),{props:{items:{type:Array,required:!0}},setup:sa}));const na=p("Materials"),oa=p("Paperead"),ra=p("Materials");async function ua(o){let s,l;const n=w(),r=E(),d=([s,l]=U(()=>n.state.materials.all()),s=await s,l(),s);return(i,u)=>(c(),f(J,null,{header:e(()=>[a(t(H),{subtitle:"\u6240\u6709\u6750\u6599",onBack:u[0]||(u[0]=()=>t(r).back())},{title:e(()=>[na]),header:e(()=>[a(t(F),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(t(G),{to:"/"},{default:e(()=>[oa]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[ra]),_:1})]),_:1})]),avatar:e(()=>[a(t(q),null,{default:e(()=>[a(t(v),null,{default:e(()=>[a(t(ot))]),_:1})]),_:1})]),footer:e(()=>[p("Totally "+g(t(d).length)+" material"+g(t(d).length>1?"s":"")+".",1)]),_:1})]),default:e(()=>[a(t(S),{"content-style":"padding: 10px;"},{default:e(()=>[a(Bt,{items:t(d)},{default:e(_=>[a(aa,{id:_.item},null,8,["id"])]),_:1},8,["items"])]),_:1})]),_:1}))}const ia={components:{Files:ot}},da=y(h(m({},ia),{setup:ua}));var _a=N(da,[["__scopeId","data-v-c55a6590"]]);const Pt=y({props:{value:{type:String,required:!0},baseUrl:{type:String,required:!1}},setup(o){const s=o;w();const l=Y(()=>{var d;return(d=s.baseUrl)!=null?d:""}),n=L();async function r(){await te.preview(n.value,s.value);let d=n.value.getElementsByTagName("a");for(let i=0;i<d.length;i++){let u=d.item(i),_=u==null?void 0:u.getAttribute("href");O(_)&&(u==null||u.setAttribute("href",`${l.value}/${_}`))}{let i=n.value.getElementsByTagName("img");for(let u=0;u<i.length;u++){let _=i.item(u),b=_==null?void 0:_.getAttribute("src");O(b)&&(_==null||_.setAttribute("src",`${l.value}/${b}`))}}{let i=n.value.getElementsByTagName("video");for(let u=0;u<i.length;u++){let _=i.item(u),b=_==null?void 0:_.getAttribute("src");O(b)&&(_==null||_.setAttribute("src",`${l.value}/${b}`))}}{let i=n.value.getElementsByTagName("audio");for(let u=0;u<i.length;u++){let _=i.item(u),b=_==null?void 0:_.getAttribute("src");O(b)&&(_==null||_.setAttribute("src",`${l.value}/${b}`))}}}return Z(r),C(s,r),(d,i)=>(c(),K("div",{ref:(u,_)=>{_.element=u,n.value=u}},null,512))}}),ca=$("thead",null,[$("tr",null,[$("th",null,"Key"),$("th",null,"Value")])],-1);function pa(o){const s=o;w();const l=Y(()=>{let n=[];for(let r in s.data.targets){let d=s.data.targets[r],i=O(d)?`${s.targetBaseUrl}/${d}`:d;n.push({label:()=>nt("a",{target:"_blank",href:i},r),key:r})}return n});return(n,r)=>(c(),f(t(B),null,{default:e(()=>[Object.keys(o.data.extra).length>0?(c(),f(t(ee),{key:0,placement:"bottom-start",trigger:"hover"},{trigger:e(()=>[a(t(k),{bordered:!1},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(wt))]),_:1})]),_:1})]),default:e(()=>[a(t(ae),null,{default:e(()=>[ca,$("tbody",null,[(c(!0),K(it,null,ut(o.data.extra,(d,i)=>(c(),K("tr",{key:i},[$("td",null,g(i),1),$("td",null,g(d),1)]))),128))])]),_:1})]),_:1})):M("",!0),Object.keys(o.data.targets).length>0?(c(),f(t(se),{key:1,options:t(l),placement:"bottom-start"},{default:e(()=>[a(t(k),{bordered:!1},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(Nt))]),_:1})]),_:1})]),_:1},8,["options"])):M("",!0)]),_:1}))}const fa={components:{Book:D,ArrowRight:le,ExternalLink:Nt,InfoSquare:wt,Notes:W}},At=y(h(m({},fa),{props:{data:{type:null,required:!0},targetBaseUrl:{type:String,required:!0}},setup:pa}));const ma=p("Paperead"),ha=p("Materials");async function ga(o){let s,l;const n=z(),r=E(),d=w(),i=n.params,u=([s,l]=U(()=>d.state.materials.get(i.id)),s=await s,l(),s);return document.title=`${u.metadata.name} - Materials - Paperead`,(_,b)=>{const I=tt("router-link");return c(),f(J,{"float-header":""},{header:e(()=>[a(t(H),{subtitle:t(u).id,onBack:b[1]||(b[1]=()=>t(r).back())},{title:e(()=>[p(g(t(u).metadata.name),1)]),header:e(()=>[a(t(F),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(I,{to:"/"},{default:e(()=>[ma]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(I,{to:"/materials"},{default:e(()=>[ha]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[p(g(t(u).id),1)]),_:1})]),_:1})]),avatar:e(()=>[a(t(q),null,{default:e(()=>[a(t(v),null,{default:e(()=>[a(t(D))]),_:1})]),_:1})]),extra:e(()=>[a(t(B),null,{default:e(()=>[a(t(k),{bordered:!1,onClick:b[0]||(b[0]=P=>t(r).push(`/materials/${t(u).id}/notes`))},{icon:e(()=>[a(t(v),null,{default:e(()=>[a(t(W))]),_:1})]),_:1}),a(At,{"target-base-url":t(d).state.materials.resolveRelativeUrl(t(u).id),data:t(u).metadata},null,8,["target-base-url","data"])]),_:1})]),footer:e(()=>[a(et,{data:t(u).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:e(()=>[a(t(S),{"content-style":"padding: 10px;"},{default:e(()=>[(c(),f(j,null,{default:e(()=>[a(Pt,{value:t(u).content,"base-url":t(d).state.materials.resolveRelativeUrl(t(u).id)},null,8,["value","base-url"])]),fallback:e(()=>[a(t(dt),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const ya={components:{Book:D,Notes:W}},va=y(h(m({},ya),{setup:ga}));var $a=N(va,[["__scopeId","data-v-5d78dd46"]]);function ba(o){const s=o,l=w(),n=L();async function r(){n.value=await l.state.materials.notes(s.id).get(s.noteId)}return Z(r),C(s,r),(d,i)=>{const u=tt("router-link");return n.value?(c(),f(t(xt),{key:0},{header:e(()=>[a(u,{to:`/materials/${s.id}/notes/${n.value.id}`},{default:e(()=>[p(g(n.value.metadata.name),1)]),_:1},8,["to"])]),"header-extra":e(()=>[]),action:e(()=>[a(et,{data:n.value.metadata},null,8,["data"])]),default:e(()=>[n.value.content.length>0?(c(),f(t(bt),{key:0,tooltip:!1,"line-clamp":5},{default:e(()=>[p(g(n.value.content),1)]),_:1})):M("",!0)]),_:1})):M("",!0)}}const xa={components:{Book:D,Clock:A}},wa=y(h(m({},xa),{props:{id:{type:String,required:!0},noteId:{type:String,required:!0}},setup:ba}));var Na=N(wa,[["__scopeId","data-v-6e25cdbc"]]);const ka=p("Notes"),Sa=p("Paperead"),Ia=p("Materials"),Ua=p("Notes");async function Ba(o){let s,l;const n=w(),r=E(),i=z().params,u=([s,l]=U(()=>n.state.materials.notes(i.id).all()),s=await s,l(),s),_=([s,l]=U(()=>n.state.materials.get(i.id)),s=await s,l(),s);return document.title=`Notes - ${_.metadata.name} - Materials - Paperead`,(b,I)=>(c(),f(J,null,{header:e(()=>[a(t(H),{subtitle:"\u6240\u6709\u7B14\u8BB0",onBack:I[0]||(I[0]=()=>t(r).back())},{title:e(()=>[ka]),header:e(()=>[a(t(F),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(t(G),{to:"/"},{default:e(()=>[Sa]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(t(G),{to:"/materials"},{default:e(()=>[Ia]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(t(G),{to:`/materials/${t(i).id}`},{default:e(()=>[p(g(t(i).id),1)]),_:1},8,["to"])]),_:1}),a(t(x),null,{default:e(()=>[Ua]),_:1})]),_:1})]),avatar:e(()=>[a(t(q),null,{default:e(()=>[a(t(v),null,{default:e(()=>[a(t(W))]),_:1})]),_:1})]),footer:e(()=>[p("Totally "+g(t(u).length)+" note"+g(t(u).length>1?"s":"")+".",1)]),_:1})]),default:e(()=>[a(t(S),{"content-style":"padding: 10px;"},{default:e(()=>[a(Bt,{items:t(u)},{default:e(P=>[a(Na,{id:t(i).id,noteId:P.item},null,8,["id","noteId"])]),_:1},8,["items"])]),_:1})]),_:1}))}const Pa={components:{Notes:W}},Aa=y(h(m({},Pa),{setup:Ba}));var La=N(Aa,[["__scopeId","data-v-e8ea3eb6"]]);const Ma=p("Paperead"),Ta=p("Materials"),Ea=p("Notes");async function Ha(o){let s,l;const n=z(),r=E(),d=w(),i=n.params,u=([s,l]=U(()=>d.state.materials.notes(i.id).get(i.noteId)),s=await s,l(),s),_=([s,l]=U(()=>d.state.materials.get(i.id)),s=await s,l(),s);return document.title=`${u.metadata.name} - Notes - ${_.metadata.name} - Materials - Paperead`,(b,I)=>{const P=tt("router-link");return c(),f(J,{"float-header":""},{header:e(()=>[a(t(H),{subtitle:t(u).id,onBack:I[0]||(I[0]=()=>t(r).back())},{title:e(()=>[p(g(t(u).metadata.name),1)]),header:e(()=>[a(t(F),null,{default:e(()=>[a(t(x),null,{default:e(()=>[a(P,{to:"/"},{default:e(()=>[Ma]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(P,{to:"/materials"},{default:e(()=>[Ta]),_:1})]),_:1}),a(t(x),null,{default:e(()=>[a(P,{to:`/materials/${t(i).id}`},{default:e(()=>[p(g(t(i).id),1)]),_:1},8,["to"])]),_:1}),a(t(x),null,{default:e(()=>[a(P,{to:`/materials/${t(i).id}/notes`},{default:e(()=>[Ea]),_:1},8,["to"])]),_:1}),a(t(x),null,{default:e(()=>[p(g(t(u).id),1)]),_:1})]),_:1})]),avatar:e(()=>[a(t(q),null,{default:e(()=>[a(t(v),null,{default:e(()=>[a(t(kt))]),_:1})]),_:1})]),extra:e(()=>[a(At,{"target-base-url":t(d).state.materials.resolveRelativeUrl(t(i).id,"./notes"),data:t(u).metadata},null,8,["target-base-url","data"])]),footer:e(()=>[a(et,{data:t(u).metadata},null,8,["data"])]),_:1},8,["subtitle"])]),default:e(()=>[a(t(S),{"content-style":"padding: 10px;"},{default:e(()=>[(c(),f(j,null,{default:e(()=>[a(Pt,{value:t(u).content,"base-url":t(d).state.materials.resolveRelativeUrl(t(i).id,"./notes")},null,8,["value","base-url"])]),fallback:e(()=>[a(t(dt),{text:"",repeat:10})]),_:1}))]),_:1})]),_:1})}}const ja={components:{FileText:kt}},qa=y(h(m({},ja),{setup:Ha}));var Ca=N(qa,[["__scopeId","data-v-81f127a0"]]);const Da=[{path:"/",component:He,meta:{title:"Home - Paperead"}},{path:"/materials",component:_a,meta:{title:"Materials - Paperead"}},{path:"/materials/:id",component:$a,meta:{title:"Loading... - Materials - Paperead"}},{path:"/materials/:id/notes",component:La,meta:{title:"Notes - Loading... - Materials - Paperead"}},{path:"/materials/:id/notes/:noteId",component:Ca,meta:{title:"Loading... - Notes - Loading... - Materials - Paperead"}},{path:"/:path*",component:Oe,meta:{title:"Not found - Paperead"}}],Lt=ne({history:oe(),routes:Da});Lt.beforeEach((o,s)=>(document.title=o.meta.title.toString(),!0));const Mt=re(Ie);Mt.use(Lt).use(de,It);Mt.mount("#app");
