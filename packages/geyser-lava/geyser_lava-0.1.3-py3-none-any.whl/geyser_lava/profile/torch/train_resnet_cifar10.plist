<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>$schema</key>
	<string>https://ghproxy.com/https://github.com/chenrz925/geyser/raw/main/src/geyser/schema.json</string>
	<key>engine</key>
	<string>serial</string>
	<key>flow</key>
	<dict>
		<key>include</key>
		<array>
			<string>id</string>
			<string>path</string>
			<string>dataset_root</string>
			<string>vision_transform</string>
			<string>train_dataset_params</string>
			<string>validate_dataset_params</string>
			<string>train_loader</string>
			<string>validate_loader</string>
			<string>model</string>
			<string>optimizer</string>
			<string>loss</string>
			<string>trainer</string>
		</array>
		<key>name</key>
		<string>root</string>
		<key>type</key>
		<string>graph</string>
	</dict>
	<key>tasks</key>
	<array>
		<dict>
			<key>inject</key>
			<dict>
				<key>title</key>
				<string>cifar10_resnet50</string>
			</dict>
			<key>name</key>
			<string>id</string>
			<key>reference</key>
			<string>geyser_lava.task.utility.IdProvider</string>
			<key>type</key>
			<string>task</string>
		</dict>
		<dict>
			<key>name</key>
			<string>path</string>
			<key>reference</key>
			<string>geyser_lava.task.utility.PathProvider</string>
			<key>rename</key>
			<dict>
				<key>path_provider</key>
				<string>path</string>
			</dict>
			<key>type</key>
			<string>task</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>subpaths</key>
				<array>
					<string>dataset</string>
					<string>cifar10</string>
				</array>
				<key>typename</key>
				<string>current</string>
			</dict>
			<key>name</key>
			<string>dataset_root</string>
			<key>reference</key>
			<string>geyser_lava.task.utility.PathBuilder</string>
			<key>rename</key>
			<dict>
				<key>path</key>
				<string>dataset_root</string>
			</dict>
			<key>type</key>
			<string>functor</string>
		</dict>
		<dict>
			<key>name</key>
			<string>vision_transform</string>
			<key>reference</key>
			<string>geyser_lava.profile._support.operator.ToTensor</string>
			<key>type</key>
			<string>functor</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>download</key>
				<true/>
				<key>reference</key>
				<string>torchvision.datasets.cifar.CIFAR10</string>
				<key>train</key>
				<true/>
			</dict>
			<key>name</key>
			<string>train_dataset_params</string>
			<key>rebind</key>
			<dict>
				<key>root</key>
				<string>dataset_root</string>
			</dict>
			<key>reference</key>
			<string>geyser_lava.profile._support.operator.CifarUnflatten</string>
			<key>rename</key>
			<dict>
				<key>obj</key>
				<string>train_dataset_params</string>
			</dict>
			<key>type</key>
			<string>functor</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>download</key>
				<true/>
				<key>reference</key>
				<string>torchvision.datasets.cifar.CIFAR10</string>
				<key>train</key>
				<false/>
			</dict>
			<key>name</key>
			<string>validate_dataset_params</string>
			<key>rebind</key>
			<dict>
				<key>root</key>
				<string>dataset_root</string>
			</dict>
			<key>reference</key>
			<string>geyser_lava.profile._support.operator.CifarUnflatten</string>
			<key>rename</key>
			<dict>
				<key>obj</key>
				<string>validate_dataset_params</string>
			</dict>
			<key>type</key>
			<string>functor</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>loader_params</key>
				<dict>
					<key>batch_size</key>
					<integer>32</integer>
					<key>shuffle</key>
					<true/>
				</dict>
			</dict>
			<key>name</key>
			<string>train_loader</string>
			<key>rebind</key>
			<dict>
				<key>dataset_params</key>
				<string>train_dataset_params</string>
			</dict>
			<key>reference</key>
			<string>geyser_lava.task.torch.common.DataLoaderProvider</string>
			<key>rename</key>
			<dict>
				<key>loader</key>
				<string>train_loader</string>
			</dict>
			<key>type</key>
			<string>task</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>loader_params</key>
				<dict>
					<key>batch_size</key>
					<integer>32</integer>
					<key>shuffle</key>
					<true/>
				</dict>
			</dict>
			<key>name</key>
			<string>validate_loader</string>
			<key>rebind</key>
			<dict>
				<key>dataset_params</key>
				<string>validate_dataset_params</string>
			</dict>
			<key>reference</key>
			<string>geyser_lava.task.torch.common.DataLoaderProvider</string>
			<key>rename</key>
			<dict>
				<key>loader</key>
				<string>validate_loader</string>
			</dict>
			<key>type</key>
			<string>task</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>model_params</key>
				<dict>
					<key>num_classes</key>
					<integer>10</integer>
					<key>pretrained</key>
					<false/>
					<key>progress</key>
					<false/>
					<key>reference</key>
					<string>torchvision.models.resnet.resnet50</string>
				</dict>
			</dict>
			<key>name</key>
			<string>model</string>
			<key>reference</key>
			<string>geyser_lava.task.torch.common.ModelProvider</string>
			<key>type</key>
			<string>task</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>optimizer_params</key>
				<dict>
					<key>reference</key>
					<string>torch.optim.adamw.AdamW</string>
				</dict>
			</dict>
			<key>name</key>
			<string>optimizer</string>
			<key>reference</key>
			<string>geyser_lava.task.torch.common.OptimizerProvider</string>
			<key>type</key>
			<string>task</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>loss_params</key>
				<dict>
					<key>reference</key>
					<string>torch.nn.modules.loss.CrossEntropyLoss</string>
				</dict>
			</dict>
			<key>name</key>
			<string>loss</string>
			<key>reference</key>
			<string>geyser_lava.task.torch.common.LossProvider</string>
			<key>type</key>
			<string>task</string>
		</dict>
		<dict>
			<key>inject</key>
			<dict>
				<key>device</key>
				<string>cuda:0</string>
				<key>max_epochs</key>
				<integer>100</integer>
				<key>metrics_params</key>
				<array>
					<dict>
						<key>name</key>
						<string>accuracy</string>
						<key>params</key>
						<dict>
							<key>device</key>
							<string>cuda:0</string>
						</dict>
						<key>reference</key>
						<string>ignite.metrics.accuracy.Accuracy</string>
					</dict>
					<dict>
						<key>name</key>
						<string>f1macro</string>
						<key>params</key>
						<dict>
							<key>beta</key>
							<integer>1</integer>
						</dict>
						<key>reference</key>
						<string>ignite.metrics.fbeta.Fbeta</string>
					</dict>
				</array>
				<key>non_blocking</key>
				<true/>
			</dict>
			<key>name</key>
			<string>trainer</string>
			<key>reference</key>
			<string>geyser_lava.task.torch.trainer.SupervisedTrainer</string>
			<key>type</key>
			<string>task</string>
		</dict>
	</array>
</dict>
</plist>
